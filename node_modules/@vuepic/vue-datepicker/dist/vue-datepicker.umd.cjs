(function(e,c){typeof exports=="object"&&typeof module<"u"?module.exports=c(require("vue"),require("date-fns")):typeof define=="function"&&define.amd?define(["vue","date-fns"],c):(e=typeof globalThis<"u"?globalThis:e||self,e.VueDatePicker=c(e.Vue,e.dateFns))})(this,function(e,c){"use strict";function Le(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),e.createElementVNode("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),e.createElementVNode("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}Le.compatConfig={MODE:3};function qt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),e.createElementVNode("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}qt.compatConfig={MODE:3};function lt(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}lt.compatConfig={MODE:3};function st(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}st.compatConfig={MODE:3};function it(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),e.createElementVNode("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}it.compatConfig={MODE:3};function ut(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}ut.compatConfig={MODE:3};function ct(){return e.openBlock(),e.createElementBlock("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon"},[e.createElementVNode("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}ct.compatConfig={MODE:3};function dt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Zt={exports:{}};(function(t){function r(a){return a&&a.__esModule?a:{default:a}}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports})(Zt);var An=Zt.exports,ft={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){if(n===null||n===!0||n===!1)return NaN;var s=Number(n);return isNaN(s)?s:s<0?Math.ceil(s):Math.floor(s)}t.exports=r.default})(ft,ft.exports);var Nn=ft.exports;const Pn=dt(Nn);var mt={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n){var s=new Date(Date.UTC(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()));return s.setUTCFullYear(n.getFullYear()),n.getTime()-s.getTime()}t.exports=r.default})(mt,mt.exports);var _n=mt.exports;const Jt=dt(_n);function En(t,r){var a=On(r);return a.formatToParts?Vn(a,t):Yn(a,t)}var Rn={year:0,month:1,day:2,hour:3,minute:4,second:5};function Vn(t,r){try{for(var a=t.formatToParts(r),n=[],s=0;s<a.length;s++){var l=Rn[a[s].type];l>=0&&(n[l]=parseInt(a[s].value,10))}return n}catch(f){if(f instanceof RangeError)return[NaN];throw f}}function Yn(t,r){var a=t.format(r).replace(/\u200E/g,""),n=/(\d+)\/(\d+)\/(\d+),? (\d+):(\d+):(\d+)/.exec(a);return[n[3],n[1],n[2],n[4],n[5],n[6]]}var pt={};function On(t){if(!pt[t]){var r=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:"America/New_York",year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}).format(new Date("2014-06-25T04:00:00.123Z")),a=r==="06/25/2014, 00:00:00"||r==="‎06‎/‎25‎/‎2014‎ ‎00‎:‎00‎:‎00";pt[t]=a?new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"}):new Intl.DateTimeFormat("en-US",{hourCycle:"h23",timeZone:t,year:"numeric",month:"numeric",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit"})}return pt[t]}function gt(t,r,a,n,s,l,f){var C=new Date(0);return C.setUTCFullYear(t,r,a),C.setUTCHours(n,s,l,f),C}var Xt=36e5,In=6e4,ht={timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-]\d{2})$/,timezoneHHMM:/^([+-]\d{2}):?(\d{2})$/};function yt(t,r,a){var n,s;if(!t||(n=ht.timezoneZ.exec(t),n))return 0;var l;if(n=ht.timezoneHH.exec(t),n)return l=parseInt(n[1],10),Qt(l)?-(l*Xt):NaN;if(n=ht.timezoneHHMM.exec(t),n){l=parseInt(n[1],10);var f=parseInt(n[2],10);return Qt(l,f)?(s=Math.abs(l)*Xt+f*In,l>0?-s:s):NaN}if(Hn(t)){r=new Date(r||Date.now());var C=a?r:zn(r),w=kt(C,t),S=a?w:Ln(r,w,t);return-S}return NaN}function zn(t){return gt(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())}function kt(t,r){var a=En(t,r),n=gt(a[0],a[1]-1,a[2],a[3]%24,a[4],a[5],0).getTime(),s=t.getTime(),l=s%1e3;return s-=l>=0?l:1e3+l,n-s}function Ln(t,r,a){var n=t.getTime(),s=n-r,l=kt(new Date(s),a);if(r===l)return r;s-=l-r;var f=kt(new Date(s),a);return l===f?l:Math.max(l,f)}function Qt(t,r){return-23<=t&&t<=23&&(r==null||0<=r&&r<=59)}var Ft={};function Hn(t){if(Ft[t])return!0;try{return new Intl.DateTimeFormat(void 0,{timeZone:t}),Ft[t]=!0,!0}catch{return!1}}var en=/(Z|[+-]\d{2}(?::?\d{2})?| UTC| [a-zA-Z]+\/[a-zA-Z_]+(?:\/[a-zA-Z_]+)?)$/,wt=36e5,tn=6e4,Kn=2,he={dateTimePattern:/^([0-9W+-]+)(T| )(.*)/,datePattern:/^([0-9W+-]+)(.*)/,plainTime:/:/,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timeZone:en};function bt(t,r){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(t===null)return new Date(NaN);var a=r||{},n=a.additionalDigits==null?Kn:Pn(a.additionalDigits);if(n!==2&&n!==1&&n!==0)throw new RangeError("additionalDigits must be 0, 1 or 2");if(t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]")return new Date(t.getTime());if(typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]")return new Date(t);if(!(typeof t=="string"||Object.prototype.toString.call(t)==="[object String]"))return new Date(NaN);var s=Un(t),l=Wn(s.date,n),f=l.year,C=l.restDateString,w=xn(C,f);if(isNaN(w))return new Date(NaN);if(w){var S=w.getTime(),k=0,T;if(s.time&&(k=jn(s.time),isNaN(k)))return new Date(NaN);if(s.timeZone||a.timeZone){if(T=yt(s.timeZone||a.timeZone,new Date(S+k)),isNaN(T))return new Date(NaN)}else T=Jt(new Date(S+k)),T=Jt(new Date(S+k+T));return new Date(S+k+T)}else return new Date(NaN)}function Un(t){var r={},a=he.dateTimePattern.exec(t),n;if(a?(r.date=a[1],n=a[3]):(a=he.datePattern.exec(t),a?(r.date=a[1],n=a[2]):(r.date=null,n=t)),n){var s=he.timeZone.exec(n);s?(r.time=n.replace(s[1],""),r.timeZone=s[1].trim()):r.time=n}return r}function Wn(t,r){var a=he.YYY[r],n=he.YYYYY[r],s;if(s=he.YYYY.exec(t)||n.exec(t),s){var l=s[1];return{year:parseInt(l,10),restDateString:t.slice(l.length)}}if(s=he.YY.exec(t)||a.exec(t),s){var f=s[1];return{year:parseInt(f,10)*100,restDateString:t.slice(f.length)}}return{year:null}}function xn(t,r){if(r===null)return null;var a,n,s,l;if(t.length===0)return n=new Date(0),n.setUTCFullYear(r),n;if(a=he.MM.exec(t),a)return n=new Date(0),s=parseInt(a[1],10)-1,an(r,s)?(n.setUTCFullYear(r,s),n):new Date(NaN);if(a=he.DDD.exec(t),a){n=new Date(0);var f=parseInt(a[1],10);return Zn(r,f)?(n.setUTCFullYear(r,0,f),n):new Date(NaN)}if(a=he.MMDD.exec(t),a){n=new Date(0),s=parseInt(a[1],10)-1;var C=parseInt(a[2],10);return an(r,s,C)?(n.setUTCFullYear(r,s,C),n):new Date(NaN)}if(a=he.Www.exec(t),a)return l=parseInt(a[1],10)-1,on(r,l)?nn(r,l):new Date(NaN);if(a=he.WwwD.exec(t),a){l=parseInt(a[1],10)-1;var w=parseInt(a[2],10)-1;return on(r,l,w)?nn(r,l,w):new Date(NaN)}return null}function jn(t){var r,a,n;if(r=he.HH.exec(t),r)return a=parseFloat(r[1].replace(",",".")),Mt(a)?a%24*wt:NaN;if(r=he.HHMM.exec(t),r)return a=parseInt(r[1],10),n=parseFloat(r[2].replace(",",".")),Mt(a,n)?a%24*wt+n*tn:NaN;if(r=he.HHMMSS.exec(t),r){a=parseInt(r[1],10),n=parseInt(r[2],10);var s=parseFloat(r[3].replace(",","."));return Mt(a,n,s)?a%24*wt+n*tn+s*1e3:NaN}return null}function nn(t,r,a){r=r||0,a=a||0;var n=new Date(0);n.setUTCFullYear(t,0,4);var s=n.getUTCDay()||7,l=r*7+a+1-s;return n.setUTCDate(n.getUTCDate()+l),n}var Gn=[31,28,31,30,31,30,31,31,30,31,30,31],qn=[31,29,31,30,31,30,31,31,30,31,30,31];function rn(t){return t%400===0||t%4===0&&t%100!==0}function an(t,r,a){if(r<0||r>11)return!1;if(a!=null){if(a<1)return!1;var n=rn(t);if(n&&a>qn[r]||!n&&a>Gn[r])return!1}return!0}function Zn(t,r){if(r<1)return!1;var a=rn(t);return!(a&&r>366||!a&&r>365)}function on(t,r,a){return!(r<0||r>52||a!=null&&(a<0||a>6))}function Mt(t,r,a){return!(t!=null&&(t<0||t>=25)||r!=null&&(r<0||r>=60)||a!=null&&(a<0||a>=60))}var Dt={exports:{}},Ct={exports:{}};(function(t,r){Object.defineProperty(r,"__esModule",{value:!0}),r.default=a;function a(n,s){if(n==null)throw new TypeError("assign requires that input parameter not be null or undefined");for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&(n[l]=s[l]);return n}t.exports=r.default})(Ct,Ct.exports);var Jn=Ct.exports;(function(t,r){var a=An.default;Object.defineProperty(r,"__esModule",{value:!0}),r.default=s;var n=a(Jn);function s(l){return(0,n.default)({},l)}t.exports=r.default})(Dt,Dt.exports);var Xn=Dt.exports;const Qn=dt(Xn);function Fn(t,r,a){var n=bt(t,a),s=yt(r,n,!0),l=new Date(n.getTime()-s),f=new Date(0);return f.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),f.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),f}function er(t,r,a){if(typeof t=="string"&&!t.match(en)){var n=Qn(a);return n.timeZone=r,bt(t,n)}var s=bt(t,a),l=gt(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()).getTime(),f=yt(r,new Date(l));return new Date(l+f)}function ln(t){return r=>new Intl.DateTimeFormat(t,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${r}T00:00:00+00:00`)).slice(0,2)}function tr(t){return r=>c.format(new Date(`2017-01-0${r}T00:00:00+00:00`),"EEEEEE",{locale:t})}const nr=(t,r,a)=>{const n=[1,2,3,4,5,6,7];let s;if(t!==null)try{s=n.map(tr(t))}catch{s=n.map(ln(r))}else s=n.map(ln(r));const l=s.slice(0,a),f=s.slice(a+1,s.length);return[s[a]].concat(...f).concat(...l)},St=(t,r)=>{const a=[];for(let n=+t[0];n<=+t[1];n++)a.push({value:+n,text:`${n}`});return r?a.reverse():a},sn=(t,r,a)=>{const n=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const f=l<10?`0${l}`:l;return new Date(`2017-${f}-01T00:00:00+00:00`)});if(t!==null)try{const l=a==="long"?"MMMM":"MMM";return n.map((f,C)=>{const w=c.format(f,l,{locale:t});return{text:w.charAt(0).toUpperCase()+w.substring(1),value:C}})}catch{}const s=new Intl.DateTimeFormat(r,{month:a,timeZone:"UTC"});return n.map((l,f)=>{const C=s.format(l);return{text:C.charAt(0).toUpperCase()+C.substring(1),value:f}})},rr=t=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][t],ce=t=>{const r=e.unref(t);return r!=null&&r.$el?r==null?void 0:r.$el:r},ar=t=>Object.assign({type:"dot"},t),un=t=>Array.isArray(t)?!!t[0]&&!!t[1]:!1,Je={prop:t=>`"${t}" prop must be enabled!`,dateArr:t=>`You need to use array as "model-value" binding in order to support "${t}"`},ie=t=>t,cn=t=>t===0?t:!t||isNaN(+t)?null:+t,dn=t=>t===null,or=t=>{if(t)return[...t.querySelectorAll("input, button, select, textarea, a[href]")][0]},lr=t=>{const r=[],a=n=>n.filter(s=>s);for(let n=0;n<t.length;n+=3){const s=[t[n],t[n+1],t[n+2]];r.push(a(s))}return r},He=(t,r,a)=>{const n=a??a===0,s=r??r===0;if(!n&&!s)return!1;const l=+a,f=+r;return n&&s?+t>l||+t<f:n?+t>l:s?+t<f:!1},Ye=(t,r)=>lr(t).map(a=>a.map(n=>{const{active:s,disabled:l,isBetween:f}=r(n);return{...n,active:s,disabled:l,className:{dp__overlay_cell_active:s,dp__overlay_cell:!s,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&s,dp__cell_in_between:f}}})),fn=(t,r,a,n,s)=>{const l=c.parse(t,r.slice(0,t.length),new Date);return c.isValid(l)&&c.isDate(l)?n||s?l:c.set(l,{hours:+a.hours,minutes:+(a==null?void 0:a.minutes),seconds:+(a==null?void 0:a.seconds),milliseconds:0}):null},sr=(t,r,a,n,s)=>{const l=Array.isArray(a)?a[0]:a;if(typeof r=="string")return fn(t,r,l,n,s);if(Array.isArray(r)){let f=null;for(const C of r)if(f=fn(t,C,l,n,s),f)break;return f}return typeof r=="function"?r(t):null},A=t=>t?new Date(t):new Date,ir=(t,r,a)=>{if(r){const s=(t.getMonth()+1).toString().padStart(2,"0"),l=t.getDate().toString().padStart(2,"0"),f=t.getHours().toString().padStart(2,"0"),C=t.getMinutes().toString().padStart(2,"0"),w=a?t.getSeconds().toString().padStart(2,"0"):"00";return`${t.getFullYear()}-${s}-${l}T${f}:${C}:${w}.000Z`}const n=Date.UTC(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds());return new Date(n).toISOString()},ke=t=>{let r=A(JSON.parse(JSON.stringify(t)));return r=c.setHours(r,0),r=c.setMinutes(r,0),r=c.setSeconds(r,0),r=c.setMilliseconds(r,0),r},Te=(t,r,a,n)=>{let s=t?A(t):A();return(r||r===0)&&(s=c.setHours(s,+r)),(a||a===0)&&(s=c.setMinutes(s,+a)),(n||n===0)&&(s=c.setSeconds(s,+n)),c.setMilliseconds(s,0)},fe=(t,r)=>!t||!r?!1:c.isBefore(ke(t),ke(r)),ae=(t,r)=>!t||!r?!1:c.isEqual(ke(t),ke(r)),ge=(t,r)=>!t||!r?!1:c.isAfter(ke(t),ke(r)),$t=(t,r,a)=>t!=null&&t[0]&&(t!=null&&t[1])?ge(a,t[0])&&fe(a,t[1]):t!=null&&t[0]&&r?ge(a,t[0])&&fe(a,r)||fe(a,t[0])&&ge(a,r):!1,be=t=>{const r=c.set(new Date(t),{date:1});return ke(r)},Bt=(t,r,a)=>r&&(a||a===0)?Object.fromEntries(["hours","minutes","seconds"].map(n=>n===r?[n,a]:[n,isNaN(+t[n])?void 0:+t[n]])):{hours:isNaN(+t.hours)?void 0:+t.hours,minutes:isNaN(+t.minutes)?void 0:+t.minutes,seconds:isNaN(+t.seconds)?void 0:+t.seconds},Pe=t=>({hours:c.getHours(t),minutes:c.getMinutes(t),seconds:c.getSeconds(t)}),mn=(t,r)=>{if(r){const a=c.getYear(A(r));if(a>t)return 12;if(a===t)return c.getMonth(A(r))}},pn=(t,r)=>{if(r){const a=c.getYear(A(r));return a<t?-1:a===t?c.getMonth(A(r)):void 0}},Oe=t=>{if(t)return c.getYear(A(t))},Ce=(t,r)=>r?Fn(t,r):t,ur=(t,r)=>r?er(t,r):t,gn=t=>t instanceof Date?t:c.parseISO(t),hn=(t,r)=>{const a=ge(t,r)?r:t,n=ge(r,t)?r:t;return c.eachDayOfInterval({start:a,end:n})},cr=t=>{const r=c.addMonths(t,1);return{month:c.getMonth(r),year:c.getYear(r)}},Xe=(t,r,a)=>{const n=c.startOfWeek(Ce(t,r),{weekStartsOn:+a}),s=c.endOfWeek(Ce(t,r),{weekStartsOn:+a});return[n,s]},yn=(t,r)=>{const a={hours:c.getHours(A()),minutes:c.getMinutes(A()),seconds:r?c.getSeconds(A()):0};return Object.assign(a,t)},ve=(t,r,a)=>[c.set(A(t),{date:1}),c.set(A(),{month:r,year:a,date:1})],$e=(t,r,a)=>{let n=t?A(t):A();return(r||r===0)&&(n=c.setMonth(n,r)),a&&(n=c.setYear(n,a)),n},kn=(t,r,a,n,s)=>{if(!n||s&&!r||!s&&!a)return!1;const l=s?c.addMonths(t,1):c.subMonths(t,1),f=[c.getMonth(l),c.getYear(l)];return s?!fr(...f,r):!dr(...f,a)},dr=(t,r,a)=>fe(...ve(a,t,r))||ae(...ve(a,t,r)),fr=(t,r,a)=>ge(...ve(a,t,r))||ae(...ve(a,t,r)),wn=(t,r,a,n,s,l)=>{if(typeof r=="function")return r(t);const f=a?{locale:a}:void 0;return Array.isArray(t)?`${c.format(t[0],l,f)}${s&&!t[1]?"":n}${t[1]?c.format(t[1],l,f):""}`:c.format(t,l,f)},Ie=t=>{if(t)return null;throw new Error(Je.prop("partial-range"))},Qe=(t,r)=>{if(r)return t();throw new Error(Je.prop("range"))},Tt=t=>Array.isArray(t)?c.isValid(t[0])&&(t[1]?c.isValid(t[1]):!0):t?c.isValid(t):!1,mr=t=>c.set(A(),{hours:+t.hours||0,minutes:+t.minutes||0,seconds:+t.seconds||0}),vt=(t,r,a,n)=>{if(!t)return!0;if(n){const s=a==="max"?c.isBefore(t,r):c.isAfter(t,r),l={seconds:0,milliseconds:0};return s||c.isEqual(c.set(t,l),c.set(r,l))}return a==="max"?t.getTime()<=r.getTime():t.getTime()>=r.getTime()},bn=(t,r,a,n,s)=>{const l=t?mr(t):A(r);return Array.isArray(n)?vt(n[0],l,a,!!r)&&vt(n[1],l,a,!!r)&&s:vt(n,l,a,!!r)&&s},At=t=>c.set(A(),Pe(t)),pr=(t,r)=>Array.isArray(t)?t.map(a=>A(a)).filter(a=>c.getYear(A(a))===r).map(a=>c.getMonth(a)):[],Ke=e.reactive({menuFocused:!1,shiftKeyInMenu:!1}),Mn=()=>{const t=n=>{Ke.menuFocused=n},r=n=>{Ke.shiftKeyInMenu!==n&&(Ke.shiftKeyInMenu=n)};return{control:e.computed(()=>({shiftKeyInMenu:Ke.shiftKeyInMenu,menuFocused:Ke.menuFocused})),setMenuFocused:t,setShiftKey:r}},oe=e.reactive({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Nt=e.ref(null),Fe=e.ref(!1),Pt=e.ref(!1),_t=e.ref(!1),Et=e.ref(!1),ye=e.ref(0),me=e.ref(0),Ae=()=>{const t=e.computed(()=>Fe.value?[...oe.selectionGrid,oe.actionRow].filter(M=>M.length):Pt.value?[...oe.timePicker[0],...oe.timePicker[1],Et.value?[]:[Nt.value],oe.actionRow].filter(M=>M.length):_t.value?[...oe.monthPicker,oe.actionRow]:[oe.monthYear,...oe.calendar,oe.time,oe.actionRow].filter(M=>M.length)),r=M=>{ye.value=M?ye.value+1:ye.value-1;let $=null;t.value[me.value]&&($=t.value[me.value][ye.value]),$||(ye.value=M?ye.value-1:ye.value+1)},a=M=>{if(me.value===0&&!M||me.value===t.value.length&&M)return;me.value=M?me.value+1:me.value-1,t.value[me.value]?t.value[me.value]&&!t.value[me.value][ye.value]&&ye.value!==0&&(ye.value=t.value[me.value].length-1):me.value=M?me.value-1:me.value+1},n=M=>{let $=null;t.value[me.value]&&($=t.value[me.value][ye.value]),$?$.focus({preventScroll:!Fe.value}):ye.value=M?ye.value-1:ye.value+1},s=()=>{r(!0),n(!0)},l=()=>{r(!1),n(!1)},f=()=>{a(!1),n(!0)},C=()=>{a(!0),n(!0)},w=(M,$)=>{oe[$]=M},S=(M,$)=>{oe[$]=M},k=()=>{ye.value=0,me.value=0};return{buildMatrix:w,buildMultiLevelMatrix:S,setTimePickerBackRef:M=>{Nt.value=M},setSelectionGrid:M=>{Fe.value=M,k(),M||(oe.selectionGrid=[])},setTimePicker:(M,$=!1)=>{Pt.value=M,Et.value=$,k(),M||(oe.timePicker[0]=[],oe.timePicker[1]=[])},setTimePickerElements:(M,$=0)=>{oe.timePicker[$]=M},arrowRight:s,arrowLeft:l,arrowUp:f,arrowDown:C,clearArrowNav:()=>{oe.monthYear=[],oe.calendar=[],oe.time=[],oe.actionRow=[],oe.selectionGrid=[],oe.timePicker[0]=[],oe.timePicker[1]=[],Fe.value=!1,Pt.value=!1,Et.value=!1,_t.value=!1,k(),Nt.value=null},setMonthPicker:M=>{_t.value=M,k()},refSets:oe}},Dn=t=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...t??{}}),gr=t=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",calendarWrap:"Calendar wrapper",calendarDays:"Calendar days",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:r=>`Increment ${r}`,decrementValue:r=>`Decrement ${r}`,openTpOverlay:r=>`Open ${r} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:()=>"",...t??{}}),Cn=t=>t?typeof t=="boolean"?t?2:0:+t>=2?+t:2:0,hr=t=>{const r=typeof t=="object"&&t,a={static:!0,solo:!1};if(!t)return{...a,count:Cn(!1)};const n=r?t:{},s=r?n.count??!0:t,l=Cn(s);return Object.assign(a,n,{count:l})},yr=(t,r,a)=>t||(typeof a=="string"?a:r),kr=t=>typeof t=="boolean"?t?Dn({}):!1:Dn(t),wr=t=>{const r={enterSubmit:!0,tabSubmit:!0,openMenu:!0,rangeSeparator:" - "};return typeof t=="object"?{...r,...t??{},enabled:!0}:{...r,enabled:t}},br=t=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...t??{}}),Mr=t=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...t??{}}),Dr=t=>{const r={input:!1};return typeof t=="object"?{...r,...t??{},enabled:!0}:{enabled:t,...r}},pe=t=>{const r=()=>{const L=t.enableSeconds?":ss":"";return t.is24?`HH:mm${L}`:`hh:mm${L} aa`},a=()=>t.format?t.format:t.monthPicker?"MM/yyyy":t.timePicker?r():t.weekPicker?"MM/dd/yyyy":t.yearPicker?"yyyy":t.enableTimePicker?`MM/dd/yyyy, ${r()}`:"MM/dd/yyyy",n=L=>yn(L,t.enableSeconds),s=()=>t.range?t.startTime&&Array.isArray(t.startTime)?[n(t.startTime[0]),n(t.startTime[1])]:null:t.startTime&&!Array.isArray(t.startTime)?n(t.startTime):null,l=e.computed(()=>hr(t.multiCalendars)),f=e.computed(()=>s()),C=e.computed(()=>gr(t.ariaLabels)),w=e.computed(()=>br(t.filters)),S=e.computed(()=>kr(t.transitions)),k=e.computed(()=>Mr(t.actionRow)),T=e.computed(()=>yr(t.previewFormat,t.format,a())),P=e.computed(()=>wr(t.textInput)),j=e.computed(()=>Dr(t.inline));return{defaultedTransitions:S,defaultedMultiCalendars:l,defaultedStartTime:f,defaultedAriaLabels:C,defaultedFilters:w,defaultedActionRow:k,defaultedPreviewFormat:T,defaultedTextInput:P,defaultedInline:j,getDefaultPattern:a,getDefaultStartTime:s}},Cr=(t,r,a)=>{const n=e.ref(),{defaultedTextInput:s,getDefaultPattern:l}=pe(r),f=e.ref(""),C=e.toRef(r,"format");e.watch(n,()=>{t("internal-model-change",n.value)}),e.watch(C,()=>{O()});const w=o=>ur(o,r.timezone),S=o=>Ce(o,r.timezone),k=(o,z)=>wn(o,r.format,r.formatLocale,s.value.rangeSeparator,r.modelAuto,z??l()),T=o=>{const z=o??A();return r.modelType?g(z):{hours:c.getHours(z),minutes:c.getMinutes(z),seconds:r.enableSeconds?c.getSeconds(z):0}},P=o=>r.modelType?g(o):{month:c.getMonth(o),year:c.getYear(o)},j=o=>Array.isArray(o)?Qe(()=>[c.setYear(A(),o[0]),o[1]?c.setYear(A(),o[1]):Ie(r.partialRange)],r.range):c.setYear(A(),+o),L=(o,z)=>(typeof o=="string"||typeof o=="number")&&r.modelType?b(o):z,Z=o=>Array.isArray(o)?[L(o[0],Te(null,+o[0].hours,+o[0].minutes,o[0].seconds)),L(o[1],Te(null,+o[1].hours,+o[1].minutes,o[1].seconds))]:L(o,Te(null,o.hours,o.minutes,o.seconds)),W=o=>Array.isArray(o)?r.multiDates?o.map(z=>L(z,$e(null,+z.month,+z.year))):Qe(()=>[L(o[0],$e(null,+o[0].month,+o[0].year)),L(o[1],o[1]?$e(null,+o[1].month,+o[1].year):Ie(r.partialRange))],r.range):L(o,$e(null,+o.month,+o.year)),M=o=>{if(Array.isArray(o))return o.map(z=>b(z));throw new Error(Je.dateArr("multi-dates"))},$=o=>{if(Array.isArray(o))return[A(o[0]),A(o[1])];throw new Error(Je.dateArr("week-picker"))},R=o=>r.modelAuto?Array.isArray(o)?[b(o[0]),b(o[1])]:r.autoApply?[b(o)]:[b(o),null]:Array.isArray(o)?Qe(()=>[b(o[0]),o[1]?b(o[1]):Ie(r.partialRange)],r.range):b(o),I=()=>{Array.isArray(n.value)&&r.range&&n.value.length===1&&n.value.push(Ie(r.partialRange))},B=()=>{const o=n.value;return[g(o[0]),o[1]?g(o[1]):Ie(r.partialRange)]},x=()=>n.value[1]?B():g(ie(n.value[0])),H=()=>(n.value||[]).map(o=>g(o)),ee=()=>(I(),r.modelAuto?x():r.multiDates?H():Array.isArray(n.value)?Qe(()=>B(),r.range):g(ie(n.value))),p=o=>!o||Array.isArray(o)&&!o.length?null:r.timePicker?Z(ie(o)):r.monthPicker?W(ie(o)):r.yearPicker?j(ie(o)):r.multiDates?M(ie(o)):r.weekPicker?$(ie(o)):R(ie(o)),D=o=>{const z=p(o);Tt(ie(z))?(n.value=ie(z),O()):(n.value=null,f.value="")},N=()=>{const o=z=>c.format(z,s.value.format);return`${o(n.value[0])} ${s.value.rangeSeparator} ${n.value[1]?o(n.value[1]):""}`},K=()=>a.value&&n.value?Array.isArray(n.value)?N():c.format(n.value,s.value.format):k(n.value),m=()=>n.value?r.multiDates?n.value.map(o=>k(o)).join("; "):s.value.enabled&&typeof s.value.format=="string"?K():k(n.value):"",O=()=>{!r.format||typeof r.format=="string"||s.value.enabled&&typeof s.value.format=="string"?f.value=m():f.value=r.format(n.value)},b=o=>{if(r.utc){const z=new Date(o);return r.utc==="preserve"?new Date(z.getTime()+z.getTimezoneOffset()*6e4):z}return r.modelType?r.modelType==="date"||r.modelType==="timestamp"?S(new Date(o)):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?c.parse(o,l(),new Date):S(c.parse(o,r.modelType,new Date)):S(new Date(o))},g=o=>o?r.utc?ir(o,r.utc==="preserve",r.enableSeconds):r.modelType?r.modelType==="timestamp"?+w(o):r.modelType==="format"&&(typeof r.format=="string"||!r.format)?k(w(o)):k(w(o),r.modelType):w(o):"",u=(o,z=!1)=>{if(t("update:model-value",o),r.emitTimezone&&z){const _=Array.isArray(o)?o.map(h=>Ce(ie(h)),r.emitTimezone):Ce(ie(o),r.emitTimezone);t("update:model-timezone-value",_)}},y=o=>Array.isArray(n.value)?r.multiDates?n.value.map(z=>o(z)):[o(n.value[0]),n.value[1]?o(n.value[1]):Ie(r.partialRange)]:o(ie(n.value)),i=o=>u(ie(y(o)));return{inputValue:f,internalModelValue:n,checkBeforeEmit:()=>n.value?r.range?r.partialRange?n.value.length>=1:n.value.length===2:!!n.value:!1,parseExternalModelValue:D,formatInputValue:O,emitModelValue:()=>(O(),r.monthPicker?i(P):r.timePicker?i(T):r.yearPicker?i(c.getYear):r.weekPicker?u(n.value,!0):u(ee(),!0))}},Sr=(t,r)=>{const{defaultedFilters:a}=pe(t),{validateMonthYearInRange:n}=We(t),s=(S,k)=>{let T=S;return a.value.months.includes(c.getMonth(T))?(T=k?c.addMonths(S,1):c.subMonths(S,1),s(T,k)):T},l=(S,k)=>{let T=S;return a.value.years.includes(c.getYear(T))?(T=k?c.addYears(S,1):c.subYears(S,1),l(T,k)):T},f=(S,k=!1)=>{const T=c.set(new Date,{month:t.month,year:t.year});let P=S?c.addMonths(T,1):c.subMonths(T,1);t.disableYearSelect&&(P=c.setYear(P,t.year));let j=c.getMonth(P),L=c.getYear(P);a.value.months.includes(j)&&(P=s(P,S),j=c.getMonth(P),L=c.getYear(P)),a.value.years.includes(L)&&(P=l(P,S),L=c.getYear(P)),n(j,L,S,t.preventMinMaxNavigation)&&C(j,L,k)},C=(S,k,T)=>{r("update-month-year",{month:S,year:k,fromNav:T})},w=e.computed(()=>S=>kn(c.set(new Date,{month:t.month,year:t.year}),t.maxDate,t.minDate,t.preventMinMaxNavigation,S));return{handleMonthYearChange:f,isDisabled:w,updateMonthYear:C}};var ze=(t=>(t.center="center",t.left="left",t.right="right",t))(ze||{}),Me=(t=>(t.month="month",t.year="year",t))(Me||{}),_e=(t=>(t.top="top",t.bottom="bottom",t))(_e||{}),Ee=(t=>(t.header="header",t.calendar="calendar",t.timePicker="timePicker",t))(Ee||{}),Se=(t=>(t.month="month",t.year="year",t.calendar="calendar",t.time="time",t.minutes="minutes",t.hours="hours",t.seconds="seconds",t))(Se||{});const $r=({menuRef:t,menuRefInner:r,inputRef:a,pickerWrapperRef:n,inline:s,emit:l,props:f,slots:C})=>{const w=e.ref({}),S=e.ref(!1),k=e.ref({top:"0",left:"0"}),T=e.ref(!1),P=e.toRef(f,"teleportCenter");e.watch(P,()=>{k.value=JSON.parse(JSON.stringify({})),I()});const j=g=>{if(f.teleport){const u=g.getBoundingClientRect();return{left:u.left+window.scrollX,top:u.top+window.scrollY}}return{top:0,left:0}},L=(g,u)=>{k.value.left=`${g+u-w.value.width}px`},Z=g=>{k.value.left=`${g}px`},W=(g,u)=>{f.position===ze.left&&Z(g),f.position===ze.right&&L(g,u),f.position===ze.center&&(k.value.left=`${g+u/2-w.value.width/2}px`)},M=g=>{const{width:u,height:y}=g.getBoundingClientRect(),{top:i,left:v}=f.altPosition?f.altPosition(g):j(g);return{top:+i,left:+v,width:u,height:y}},$=()=>{k.value.left="50%",k.value.top="50%",k.value.transform="translate(-50%, -50%)",k.value.position="fixed",delete k.value.opacity},R=()=>{const g=ce(a),{top:u,left:y,transform:i}=f.altPosition(g);k.value={top:`${u}px`,left:`${y}px`,transform:i??""}},I=(g=!0)=>{var u;if(!s.value.enabled){if(P.value)return $();if(f.altPosition!==null)return R();if(g){const y=f.teleport?(u=r.value)==null?void 0:u.$el:t.value;y&&(w.value=y.getBoundingClientRect()),l("recalculate-position")}return N()}},B=({inputEl:g,left:u,width:y})=>{window.screen.width>768&&!S.value&&W(u,y),ee(g)},x=g=>{const{top:u,left:y,height:i,width:v}=M(g);k.value.top=`${i+u+ +f.offset}px`,T.value=!1,S.value||(k.value.left=`${y+v/2-w.value.width/2}px`),B({inputEl:g,left:y,width:v})},H=g=>{const{top:u,left:y,width:i}=M(g);k.value.top=`${u-+f.offset-w.value.height}px`,T.value=!0,B({inputEl:g,left:y,width:i})},ee=g=>{if(f.autoPosition){const{left:u,width:y}=M(g),{left:i,right:v}=w.value;if(!S.value){if(Math.abs(i)!==Math.abs(v)){if(i<=0)return S.value=!0,Z(u);if(v>=document.documentElement.clientWidth)return S.value=!0,L(u,y)}return W(u,y)}}},p=()=>{const g=ce(a);if(g){const{height:u}=w.value,{top:y,height:i}=g.getBoundingClientRect(),J=window.innerHeight-y-i,o=y;return u<=J?_e.bottom:u>J&&u<=o?_e.top:J>=o?_e.bottom:_e.top}return _e.bottom},D=g=>p()===_e.bottom?x(g):H(g),N=()=>{const g=ce(a);if(g)return f.autoPosition?D(g):x(g)},K=function(g){if(g){const u=g.scrollHeight>g.clientHeight,i=window.getComputedStyle(g).overflowY.indexOf("hidden")!==-1;return u&&!i}return!0},m=function(g){return!g||g===document.body||g.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:K(g)?g:m(g.parentNode)},O=g=>{if(g)switch(f.position){case ze.left:return{left:0,transform:"translateX(0)"};case ze.right:return{left:`${g.width}px`,transform:"translateX(-100%)"};default:return{left:`${g.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:T,menuStyle:k,xCorrect:S,setMenuPosition:I,getScrollableParent:m,shadowRender:(g,u)=>{var _,h,Y;const y=document.createElement("div"),i=(_=ce(a))==null?void 0:_.getBoundingClientRect();y.setAttribute("id","dp--temp-container");const v=(h=n.value)!=null&&h.clientWidth?n.value:document.body;v.append(y);const J=document.getElementById("dp--temp-container"),o=O(i),z=e.h(g,{...u,shadow:!0,style:{opacity:0,position:"absolute",...o}},Object.fromEntries(Object.keys(C).map(Q=>[Q,C[Q]])));e.render(z,J),w.value=(Y=z.el)==null?void 0:Y.getBoundingClientRect(),e.render(null,J),v.removeChild(J)}}},Re=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared"]},{name:"arrow-right",use:["month-year","calendar","shared"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]}],Br=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Tr={all:()=>Re,monthYear:()=>Re.filter(t=>t.use.includes("month-year")),input:()=>Br,timePicker:()=>Re.filter(t=>t.use.includes("time")),action:()=>Re.filter(t=>t.use.includes("action")),calendar:()=>Re.filter(t=>t.use.includes("calendar")),menu:()=>Re.filter(t=>t.use.includes("menu")),shared:()=>Re.filter(t=>t.use.includes("shared"))},De=(t,r,a)=>{const n=[];return Tr[r]().forEach(s=>{t[s.name]&&n.push(s.name)}),a!=null&&a.length&&a.forEach(s=>{s.slot&&n.push(s.slot)}),n},Ue=t=>{const r=e.computed(()=>n=>t.value?n?t.value.open:t.value.close:""),a=e.computed(()=>n=>t.value?n?t.value.menuAppearTop:t.value.menuAppearBottom:"");return{transitionName:r,showTransition:!!t.value,menuTransition:a}},et=(t,r)=>{const a=e.ref([{month:c.getMonth(A()),year:c.getYear(A())}]),n=e.reactive({hours:t.range?[c.getHours(A()),c.getHours(A())]:c.getHours(A()),minutes:t.range?[c.getMinutes(A()),c.getMinutes(A())]:c.getMinutes(A()),seconds:t.range?[0,0]:0}),s=e.computed({get:()=>t.internalModelValue,set:C=>{!t.readonly&&!t.disabled&&r("update:internal-model-value",C)}}),l=e.computed(()=>C=>a.value[C]?a.value[C].month:0),f=e.computed(()=>C=>a.value[C]?a.value[C].year:0);return{calendars:a,time:n,modelValue:s,month:l,year:f}},vr=(t,r)=>{const{defaultedMultiCalendars:a}=pe(r),{isDisabled:n,matchDate:s}=We(r),l=e.ref(null),f=e.ref(A()),C=i=>{!i.current&&r.hideOffsetDates||(l.value=i.value)},w=()=>{l.value=null},S=i=>Array.isArray(t.value)&&r.range&&t.value[0]&&l.value?i?ge(l.value,t.value[0]):fe(l.value,t.value[0]):!0,k=(i,v)=>{const J=()=>t.value?v?t.value[0]||null:t.value[1]:null,o=t.value&&Array.isArray(t.value)?J():null;return ae(A(i.value),o)},T=i=>{const v=Array.isArray(t.value)?t.value[0]:null;return i?!fe(l.value??null,v):!0},P=(i,v=!0)=>(r.range||r.weekPicker)&&Array.isArray(t.value)&&t.value.length===2?r.hideOffsetDates&&!i.current?!1:ae(A(i.value),t.value[v?0:1]):r.range?k(i,v)&&T(v)||ae(i.value,Array.isArray(t.value)?t.value[0]:null)&&S(v):!1,j=(i,v,J)=>Array.isArray(t.value)&&t.value[0]&&t.value.length===1?i?!1:J?ge(t.value[0],v.value):fe(t.value[0],v.value):!1,L=i=>!t.value||r.hideOffsetDates&&!i.current?!1:r.range?r.modelAuto&&Array.isArray(t.value)?ae(i.value,t.value[0]?t.value[0]:f.value):!1:r.multiDates&&Array.isArray(t.value)?t.value.some(v=>ae(v,i.value)):ae(i.value,t.value?t.value:f.value),Z=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const v=c.addDays(l.value,+r.autoRange),J=Xe(A(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(J[1],A(i.value)):ae(v,A(i.value))}return!1}return!1},W=i=>{if(r.autoRange||r.weekPicker){if(l.value){const v=c.addDays(l.value,+r.autoRange);if(r.hideOffsetDates&&!i.current)return!1;const J=Xe(A(l.value),r.timezone,r.weekStart);return r.weekPicker?ge(i.value,J[0])&&fe(i.value,J[1]):ge(i.value,l.value)&&fe(i.value,v)}return!1}return!1},M=i=>{if(r.autoRange||r.weekPicker){if(l.value){if(r.hideOffsetDates&&!i.current)return!1;const v=Xe(A(l.value),r.timezone,r.weekStart);return r.weekPicker?ae(v[0],i.value):ae(l.value,i.value)}return!1}return!1},$=i=>$t(t.value,l.value,i.value),R=()=>r.modelAuto&&Array.isArray(r.internalModelValue)?!!r.internalModelValue[0]:!1,I=()=>r.modelAuto?un(r.internalModelValue):!0,B=i=>{if(Array.isArray(t.value)&&t.value.length||r.weekPicker)return!1;const v=r.range?!P(i)&&!P(i,!1):!0;return!n(i.value)&&!L(i)&&!(!i.current&&r.hideOffsetDates)&&v},x=i=>r.range?r.modelAuto?R()&&L(i):!1:L(i),H=i=>{var v;return r.highlight?s(i.value,(v=r.arrMapValues)!=null&&v.highlightedDates?r.arrMapValues.highlightedDates:r.highlight):!1},ee=i=>n(i.value)&&r.highlightDisabledDays===!1,p=i=>{var v;return(v=r.highlightWeekDays)==null?void 0:v.includes(i.value.getDay())},D=i=>(r.range||r.weekPicker)&&(!(a.value.count>0)||i.current)&&I()&&!(!i.current&&r.hideOffsetDates)&&!L(i)?$(i):!1,N=i=>{const{isRangeStart:v,isRangeEnd:J}=O(i),o=r.range?v||J:!1;return{dp__cell_offset:!i.current,dp__pointer:!r.disabled&&!(!i.current&&r.hideOffsetDates)&&!n(i.value),dp__cell_disabled:n(i.value),dp__cell_highlight:!ee(i)&&(H(i)||p(i))&&!x(i)&&!o,dp__cell_highlight_active:!ee(i)&&(H(i)||p(i))&&x(i),dp__today:!r.noToday&&ae(i.value,f.value)&&i.current}},K=i=>({dp__active_date:x(i),dp__date_hover:B(i)}),m=i=>({...b(i),...g(i),dp__range_between_week:D(i)&&r.weekPicker}),O=i=>{const v=a.value.count>0?i.current&&P(i)&&I():P(i)&&I(),J=a.value.count>0?i.current&&P(i,!1)&&I():P(i,!1)&&I();return{isRangeStart:v,isRangeEnd:J}},b=i=>{const{isRangeStart:v,isRangeEnd:J}=O(i);return{dp__range_start:v,dp__range_end:J,dp__range_between:D(i)&&!r.weekPicker,dp__date_hover_start:j(B(i),i,!0),dp__date_hover_end:j(B(i),i,!1)}},g=i=>({...b(i),dp__cell_auto_range:W(i),dp__cell_auto_range_start:M(i),dp__cell_auto_range_end:Z(i)}),u=i=>r.range?r.autoRange?g(i):r.modelAuto?{...K(i),...b(i)}:b(i):r.weekPicker?m(i):K(i);return{setHoverDate:C,clearHoverDate:w,getDayClassData:i=>r.hideOffsetDates&&!i.current?{}:{...N(i),...u(i),[r.dayClass?r.dayClass(i.value):""]:!0,[r.calendarCellClassName]:!!r.calendarCellClassName}}},We=t=>{const{defaultedFilters:r}=pe(t),a=p=>{const D=ke(n(A(p))).toISOString(),[N]=D.split("T");return N},n=p=>Ce(p,t.timezone),s=p=>{var i;const D=t.maxDate?ge(n(p),n(A(t.maxDate))):!1,N=t.minDate?fe(n(p),n(A(t.minDate))):!1,K=w(p,(i=t.arrMapValues)!=null&&i.disabledDates?t.arrMapValues.disabledDates:t.disabledDates),O=r.value.months.map(v=>+v).includes(c.getMonth(p)),b=t.disabledWeekDays.length?t.disabledWeekDays.some(v=>+v===c.getDay(p)):!1,g=k(p),u=c.getYear(p),y=u<+t.yearRange[0]||u>+t.yearRange[1];return!(D||N||K||O||y||b||g)},l=(p,D)=>fe(...ve(t.minDate,p,D))||ae(...ve(t.minDate,p,D)),f=(p,D)=>ge(...ve(t.maxDate,p,D))||ae(...ve(t.maxDate,p,D)),C=(p,D,N)=>{let K=!1;return t.maxDate&&N&&f(p,D)&&(K=!0),t.minDate&&!N&&l(p,D)&&(K=!0),K},w=(p,D)=>p?D instanceof Map?!!D.get(a(p)):Array.isArray(D)?D.some(N=>ae(n(A(N)),n(p))):D?D(A(JSON.parse(JSON.stringify(p)))):!1:!0,S=(p,D,N,K)=>{let m=!1;return K?t.minDate&&t.maxDate?m=C(p,D,N):(t.minDate&&l(p,D)||t.maxDate&&f(p,D))&&(m=!0):m=!0,m},k=p=>{var D,N,K,m,O;return Array.isArray(t.allowedDates)&&!((D=t.allowedDates)!=null&&D.length)?!0:(N=t.arrMapValues)!=null&&N.allowedDates?!w(p,(K=t.arrMapValues)==null?void 0:K.allowedDates):(m=t.allowedDates)!=null&&m.length?!((O=t.allowedDates)!=null&&O.some(b=>ae(n(A(b)),n(p)))):!1},T=p=>!s(p),P=p=>!c.eachDayOfInterval({start:p[0],end:p[1]}).some(N=>T(N)),j=(p,D,N=0)=>{if(Array.isArray(D)&&D[N]){const K=c.differenceInCalendarDays(p,D[N]),m=hn(D[N],p),O=m.length===1?0:m.filter(g=>T(g)).length,b=Math.abs(K)-O;if(t.minRange&&t.maxRange)return b>=+t.minRange&&b<=+t.maxRange;if(t.minRange)return b>=+t.minRange;if(t.maxRange)return b<=+t.maxRange}return!0},L=p=>new Map(p.map(D=>[a(D),!0])),Z=p=>Array.isArray(p)&&p.length>0,W=()=>{const p={disabledDates:null,allowedDates:null,highlightedDates:null};return Z(t.allowedDates)&&(p.allowedDates=L(t.allowedDates)),Z(t.highlight)&&(p.highlightedDates=L(t.highlight)),Z(t.disabledDates)&&(p.disabledDates=L(t.disabledDates)),p},M=()=>!t.enableTimePicker||t.monthPicker||t.yearPicker||t.ignoreTimeValidation,$=p=>Array.isArray(p)?[p[0]?At(p[0]):null,p[1]?At(p[1]):null]:At(p),R=(p,D,N)=>p.find(K=>+K.hours===c.getHours(D)&&K.minutes==="*"?!0:+K.minutes===c.getMinutes(D))&&N,I=(p,D,N)=>{const[K,m]=p,[O,b]=D;return!R(K,O,N)&&!R(m,b,N)&&N},B=(p,D)=>{const N=Array.isArray(D)?D:[D];return Array.isArray(t.disabledTimes)?Array.isArray(t.disabledTimes[0])?I(t.disabledTimes,N,p):!N.some(K=>R(t.disabledTimes,K,p)):p},x=(p,D)=>{const N=Array.isArray(D)?[Pe(D[0]),D[1]?Pe(D[1]):void 0]:Pe(D),K=!t.disabledTimes(N);return p&&K},H=(p,D)=>t.disabledTimes?Array.isArray(t.disabledTimes)?B(D,p):x(D,p):D;return{isDisabled:T,validateDate:s,validateMonthYearInRange:S,isDateRangeAllowed:P,checkMinMaxRange:j,matchDate:w,mapDatesArrToMap:W,isValidTime:p=>{let D=!0;if(!p||M())return!0;const N=!t.minDate&&!t.maxDate?$(p):p;return(t.maxTime||t.maxDate)&&(D=bn(t.maxTime,t.maxDate,"max",ie(N),D)),(t.minTime||t.minDate)&&(D=bn(t.minTime,t.minDate,"min",ie(N),D)),H(p,D)}}},tt=()=>{const t=e.computed(()=>(n,s)=>n==null?void 0:n.includes(s)),r=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===0:!0),a=e.computed(()=>(n,s)=>n.count?n.solo?!0:s===n.count-1:!0);return{hideNavigationButtons:t,showLeftIcon:r,showRightIcon:a}},Ar=(t,r,a)=>{const n=e.ref(0),s=e.reactive({[Ee.timePicker]:!t.enableTimePicker||t.timePicker||t.monthPicker,[Ee.calendar]:!1,[Ee.header]:!1}),l=k=>{var T;(T=t.flow)!=null&&T.length&&(s[k]=!0,Object.keys(s).filter(P=>!s[P]).length||S())},f=()=>{var k;(k=t.flow)!=null&&k.length&&n.value!==-1&&(n.value+=1,r("flow-step",n.value),S())},C=()=>{n.value=-1},w=(k,T,...P)=>{t.flow[n.value]===k&&a.value&&a.value[T](...P)},S=()=>{w(Se.month,"toggleMonthPicker",!0),w(Se.year,"toggleYearPicker",!0),w(Se.calendar,"toggleTimePicker",!1,!0),w(Se.time,"toggleTimePicker",!0,!0);const k=t.flow[n.value];(k===Se.hours||k===Se.minutes||k===Se.seconds)&&w(k,"toggleTimePicker",!0,!0,k)};return{childMount:l,updateFlowStep:f,resetFlow:C,flowStep:n}},nt={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},closeOnScroll:{type:Boolean,default:!1},autoPosition:{type:Boolean,default:!0},closeOnAutoApply:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:String,default:null},emitTimezone:{type:String,default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},menuClassName:{type:String,default:null},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},calendarCellClassName:{type:String,default:null},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},autoRange:{type:[Number,String],default:null},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},modeHeight:{type:[Number,String],default:255},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},minRange:{type:[Number,String],default:null},maxRange:{type:[Number,String],default:null},multiDatesLimit:{type:[Number,String],default:null},reverseYears:{type:Boolean,default:!1},keepActionRow:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},disableTimeRangeValidation:{type:Boolean,default:!1},highlight:{type:[Array,Function],default:null},highlightWeekDays:{type:Array,default:null},highlightDisabledDays:{type:Boolean,default:!1},teleport:{type:[String,Boolean],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function],default:null},calendarClassName:{type:String,default:null},noSwipe:{type:Boolean,default:!1},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:Boolean,default:!1},partialRange:{type:Boolean,default:!0},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},inputClassName:{type:String,default:null},fixedStart:{type:Boolean,default:!1},fixedEnd:{type:Boolean,default:!1},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:Boolean,default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},onClickOutside:{type:Function,default:null},noDisabledRange:{type:Boolean,default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},allowPreventDefault:{type:Boolean,default:!1},closeOnClearValue:{type:Boolean,default:!0},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},showLastInRange:{type:Boolean,default:!0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null}},Be={...nt,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},Nr={key:1,class:"dp__input_wrap"},Pr=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid","onKeydown"],_r={key:2,class:"dp__clear_icon"},Er=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...nt},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTextInput:s,defaultedAriaLabels:l,defaultedInline:f,getDefaultPattern:C,getDefaultStartTime:w}=pe(n),S=e.ref(),k=e.ref(null),T=e.ref(!1),P=e.ref(!1),j=e.computed(()=>({dp__pointer:!n.disabled&&!n.readonly&&!s.value.enabled,dp__disabled:n.disabled,dp__input_readonly:!s.value.enabled,dp__input:!0,dp__input_icon_pad:!n.hideInputIcon,dp__input_valid:!!n.state,dp__input_invalid:n.state===!1,dp__input_focus:T.value||n.isMenuOpen,dp__input_reg:!s.value.enabled,[n.inputClassName]:!!n.inputClassName})),L=()=>{a("set-input-date",null),n.autoApply&&(a("set-empty-date"),S.value=null)},Z=m=>{const O=w();return sr(m,s.value.format??C(),O??yn({},n.enableSeconds),n.inputValue,P.value)},W=m=>{const{rangeSeparator:O}=s.value,[b,g]=m.split(`${O}`);if(b){const u=Z(b.trim()),y=g?Z(g.trim()):null,i=u&&y?[u,y]:[u];S.value=u?i:null}},M=()=>{P.value=!0},$=m=>{if(n.range)W(m);else if(n.multiDates){const O=m.split(";");S.value=O.map(b=>Z(b.trim())).filter(b=>b)}else S.value=Z(m)},R=m=>{var b;const O=typeof m=="string"?m:(b=m.target)==null?void 0:b.value;O!==""?(s.value.openMenu&&!n.isMenuOpen&&a("open"),$(O),a("set-input-date",S.value)):L(),P.value=!1,a("update:input-value",O)},I=m=>{s.value.enabled?($(m.target.value),s.value.enterSubmit&&Tt(S.value)&&n.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):s.value.enterSubmit&&n.inputValue===""&&(S.value=null,a("clear"))):H(m)},B=m=>{s.value.enabled&&s.value.tabSubmit&&$(m.target.value),s.value.tabSubmit&&Tt(S.value)&&n.inputValue!==""?(a("set-input-date",S.value,!0),S.value=null):s.value.tabSubmit&&n.inputValue===""&&(S.value=null,a("clear"))},x=()=>{T.value=!0,a("focus")},H=m=>{m.preventDefault(),m.stopImmediatePropagation(),m.stopPropagation(),s.value.enabled&&s.value.openMenu&&!f.value.input&&!n.isMenuOpen?a("open"):s.value.enabled||a("toggle")},ee=()=>{a("real-blur"),T.value=!1,(!n.isMenuOpen||f.value.enabled&&f.value.input)&&a("blur"),n.autoApply&&s.value.enabled&&S.value&&!n.isMenuOpen&&(a("set-input-date",S.value),a("select-date"),S.value=null)},p=()=>{a("clear")},D=m=>{if(!s.value.enabled){if(m.code==="Tab")return;m.preventDefault()}};return r({focusInput:()=>{var m;(m=k.value)==null||m.focus({preventScroll:!0})},setParsedDate:m=>{S.value=m}}),(m,O)=>{var b;return e.openBlock(),e.createElementBlock("div",{onClick:H},[m.$slots.trigger&&!m.$slots["dp-input"]&&!e.unref(f).enabled?e.renderSlot(m.$slots,"trigger",{key:0}):e.createCommentVNode("",!0),!m.$slots.trigger&&(!e.unref(f).enabled||e.unref(f).input)?(e.openBlock(),e.createElementBlock("div",Nr,[m.$slots["dp-input"]&&!m.$slots.trigger&&!e.unref(f).enabled?e.renderSlot(m.$slots,"dp-input",{key:0,value:t.inputValue,isMenuOpen:t.isMenuOpen,onInput:R,onEnter:I,onTab:B,onClear:p,onBlur:ee,onKeypress:D,onPaste:M}):e.createCommentVNode("",!0),m.$slots["dp-input"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("input",{key:1,ref_key:"inputRef",ref:k,id:m.uid?`dp-input-${m.uid}`:void 0,name:m.name,class:e.normalizeClass(j.value),inputmode:e.unref(s).enabled?"text":"none",placeholder:m.placeholder,disabled:m.disabled,readonly:m.readonly,required:m.required,value:t.inputValue,autocomplete:m.autocomplete,"aria-label":(b=e.unref(l))==null?void 0:b.input,"aria-disabled":m.disabled||void 0,"aria-invalid":m.state===!1?!0:void 0,onInput:R,onKeydown:[e.withKeys(I,["enter"]),e.withKeys(B,["tab"]),D],onBlur:ee,onFocus:x,onKeypress:D,onPaste:M},null,42,Pr)),e.createElementVNode("div",{onClick:O[2]||(O[2]=g=>a("toggle"))},[m.$slots["input-icon"]&&!m.hideInputIcon?(e.openBlock(),e.createElementBlock("span",{key:0,class:"dp__input_icon",onClick:O[0]||(O[0]=g=>a("toggle"))},[e.renderSlot(m.$slots,"input-icon")])):e.createCommentVNode("",!0),!m.$slots["input-icon"]&&!m.hideInputIcon&&!m.$slots["dp-input"]?(e.openBlock(),e.createBlock(e.unref(Le),{key:1,onClick:O[1]||(O[1]=g=>a("toggle")),class:"dp__input_icon dp__input_icons"})):e.createCommentVNode("",!0)]),m.$slots["clear-icon"]&&t.inputValue&&m.clearable&&!m.disabled&&!m.readonly?(e.openBlock(),e.createElementBlock("span",_r,[e.renderSlot(m.$slots,"clear-icon",{clear:p})])):e.createCommentVNode("",!0),m.clearable&&!m.$slots["clear-icon"]&&t.inputValue&&!m.disabled&&!m.readonly?(e.openBlock(),e.createBlock(e.unref(qt),{key:3,class:"dp__clear_icon dp__input_icons",onClick:e.withModifiers(p,["stop","prevent"])},null,8,["onClick"])):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)])}}}),Rr=["title"],Vr={class:"dp__action_buttons"},Yr=["onKeydown","disabled"],Or=e.defineComponent({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...Be},emits:["close-picker","select-date","select-now","invalid-select"],setup(t,{emit:r}){const a=t,{defaultedActionRow:n,defaultedPreviewFormat:s,defaultedMultiCalendars:l,defaultedTextInput:f,defaultedInline:C,getDefaultPattern:w}=pe(a),{isValidTime:S}=We(a),{buildMatrix:k}=Ae(),T=e.ref(null),P=e.ref(null);e.onMounted(()=>{a.arrowNavigation&&k([ce(T),ce(P)],"actionRow")});const j=e.computed(()=>a.range&&!a.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),L=e.computed(()=>!Z.value||!W.value||!j.value),Z=e.computed(()=>!a.enableTimePicker||a.ignoreTimeValidation?!0:S(a.internalModelValue)),W=e.computed(()=>a.monthPicker?a.range&&Array.isArray(a.internalModelValue)?!a.internalModelValue.filter(D=>!H(D)).length:H(a.internalModelValue):!0),M=()=>{const p=s.value;return a.timePicker||a.monthPicker,p(ie(a.internalModelValue))},$=()=>{const p=a.internalModelValue;return l.value.count>0?`${R(p[0])} - ${R(p[1])}`:[R(p[0]),R(p[1])]},R=p=>wn(p,s.value,a.formatLocale,f.value.rangeSeparator,a.modelAuto,w()),I=e.computed(()=>!a.internalModelValue||!a.menuMount?"":typeof s.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?$():a.multiDates?a.internalModelValue.map(p=>`${R(p)}`):a.modelAuto?`${R(a.internalModelValue[0])}`:`${R(a.internalModelValue[0])} -`:R(a.internalModelValue):M()),B=()=>a.multiDates?"; ":" - ",x=e.computed(()=>Array.isArray(I.value)?I.value.join(B()):I.value),H=p=>{if(!a.monthPicker)return!0;let D=!0;const N=A(be(p));if(a.minDate&&a.maxDate){const K=A(be(a.minDate)),m=A(be(a.maxDate));return ge(N,K)&&fe(N,m)||ae(N,K)||ae(N,m)}if(a.minDate){const K=A(be(a.minDate));D=ge(N,K)||ae(N,K)}if(a.maxDate){const K=A(be(a.maxDate));D=fe(N,K)||ae(N,K)}return D},ee=()=>{Z.value&&W.value&&j.value?r("select-date"):r("invalid-select")};return(p,D)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__action_row",style:e.normalizeStyle(t.calendarWidth?{width:`${t.calendarWidth}px`}:{})},[p.$slots["action-row"]?e.renderSlot(p.$slots,"action-row",e.normalizeProps(e.mergeProps({key:0},{internalModelValue:p.internalModelValue,disabled:L.value,selectDate:()=>p.$emit("select-date"),closePicker:()=>p.$emit("close-picker")}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(n).showPreview?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__selection_preview",title:x.value},[p.$slots["action-preview"]?e.renderSlot(p.$slots,"action-preview",{key:0,value:p.internalModelValue}):e.createCommentVNode("",!0),p.$slots["action-preview"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(x.value),1)],64))],8,Rr)):e.createCommentVNode("",!0),e.createElementVNode("div",Vr,[p.$slots["action-buttons"]?e.renderSlot(p.$slots,"action-buttons",{key:0,value:p.internalModelValue}):e.createCommentVNode("",!0),p.$slots["action-buttons"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[!e.unref(C).enabled&&e.unref(n).showCancel?(e.openBlock(),e.createElementBlock("button",{key:0,type:"button",ref_key:"cancelButtonRef",ref:T,class:"dp__action_button dp__action_cancel",onClick:D[0]||(D[0]=N=>p.$emit("close-picker")),onKeydown:[D[1]||(D[1]=e.withKeys(N=>p.$emit("close-picker"),["enter"])),D[2]||(D[2]=e.withKeys(N=>p.$emit("close-picker"),["space"]))]},e.toDisplayString(p.cancelText),545)):e.createCommentVNode("",!0),e.unref(n).showNow?(e.openBlock(),e.createElementBlock("button",{key:1,type:"button",ref_key:"cancelButtonRef",ref:T,class:"dp__action_button dp__action_cancel",onClick:D[3]||(D[3]=N=>p.$emit("select-now")),onKeydown:[D[4]||(D[4]=e.withKeys(N=>p.$emit("select-now"),["enter"])),D[5]||(D[5]=e.withKeys(N=>p.$emit("select-now"),["space"]))]},e.toDisplayString(p.nowButtonLabel),545)):e.createCommentVNode("",!0),e.unref(n).showSelect?(e.openBlock(),e.createElementBlock("button",{key:2,type:"button",class:"dp__action_button dp__action_select",onKeydown:[e.withKeys(ee,["enter"]),e.withKeys(ee,["space"])],onClick:ee,disabled:L.value,ref_key:"selectButtonRef",ref:P},e.toDisplayString(p.selectText),41,Yr)):e.createCommentVNode("",!0)],64))])],64))],4))}}),Ir=["onKeydown"],zr={class:"dp__selection_grid_header"},Lr=["aria-selected","aria-disabled","onClick","onKeydown","onMouseover"],Hr=["aria-label","onKeydown"],xe=e.defineComponent({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]}},emits:["selected","toggle","reset-flow","hover-value"],setup(t,{expose:r,emit:a}){const n=t,{setSelectionGrid:s,buildMultiLevelMatrix:l,setMonthPicker:f}=Ae(),{defaultedAriaLabels:C,defaultedTextInput:w}=pe(n),{hideNavigationButtons:S}=tt(),k=e.ref(!1),T=e.ref(null),P=e.ref(null),j=e.ref([]),L=e.ref(),Z=e.ref(null),W=e.ref(0),M=e.ref(null);e.onBeforeUpdate(()=>{T.value=null}),e.onMounted(()=>{e.nextTick().then(()=>p()),R(),$(!0)}),e.onUnmounted(()=>$(!1));const $=u=>{var y;n.arrowNavigation&&((y=n.headerRefs)!=null&&y.length?f(u):s(u))},R=()=>{var y;const u=ce(P);u&&(w.value.enabled||(T.value?(y=T.value)==null||y.focus({preventScroll:!0}):u.focus({preventScroll:!0})),k.value=u.clientHeight<u.scrollHeight)},I=e.computed(()=>({dp__overlay:!0,"dp--overlay-absolute":!n.useRelative,"dp--overlay-relative":n.useRelative})),B=e.computed(()=>n.useRelative?{height:`${n.height}px`,width:"260px"}:void 0),x=e.computed(()=>({dp__overlay_col:!0})),H=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:k.value,dp__button_bottom:n.isLast})),ee=e.computed(()=>{var u,y;return{dp__overlay_container:!0,dp__container_flex:((u=n.items)==null?void 0:u.length)<=6,dp__container_block:((y=n.items)==null?void 0:y.length)>6}}),p=()=>{e.nextTick().then(()=>{const u=ce(T),y=ce(P),i=ce(Z),v=ce(M),J=i?i.getBoundingClientRect().height:0;y&&(W.value=y.getBoundingClientRect().height-J),u&&v&&(v.scrollTop=u.offsetTop-v.offsetTop-(W.value/2-u.getBoundingClientRect().height)-J)})},D=u=>{u.disabled||a("selected",u.value)},N=()=>{a("toggle"),a("reset-flow")},K=()=>{n.escClose&&N()},m=(u,y,i,v)=>{u&&(y.active&&(T.value=u),n.arrowNavigation&&(Array.isArray(j.value[i])?j.value[i][v]=u:j.value[i]=[u],O()))},O=()=>{var y,i;const u=(y=n.headerRefs)!=null&&y.length?[n.headerRefs].concat(j.value):j.value.concat([n.skipButtonRef?[]:[Z.value]]);l(ie(u),(i=n.headerRefs)!=null&&i.length?"monthPicker":"selectionGrid")},b=u=>{n.arrowNavigation||u.stopImmediatePropagation()},g=u=>{L.value=u,a("hover-value",u)};return r({focusGrid:R}),(u,y)=>{var i;return e.openBlock(),e.createElementBlock("div",{ref_key:"gridWrapRef",ref:P,class:e.normalizeClass(I.value),style:e.normalizeStyle(B.value),role:"dialog",tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(K,["prevent"]),["esc"]),y[0]||(y[0]=e.withKeys(e.withModifiers(v=>b(v),["prevent"]),["left"])),y[1]||(y[1]=e.withKeys(e.withModifiers(v=>b(v),["prevent"]),["up"])),y[2]||(y[2]=e.withKeys(e.withModifiers(v=>b(v),["prevent"]),["down"])),y[3]||(y[3]=e.withKeys(e.withModifiers(v=>b(v),["prevent"]),["right"]))]},[e.createElementVNode("div",{class:e.normalizeClass(ee.value),ref_key:"containerRef",ref:M,role:"grid",style:e.normalizeStyle({height:`${W.value}px`})},[e.createElementVNode("div",zr,[e.renderSlot(u.$slots,"header")]),u.$slots.overlay?e.renderSlot(u.$slots,"overlay",{key:0}):(e.openBlock(!0),e.createElementBlock(e.Fragment,{key:1},e.renderList(u.items,(v,J)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(["dp__overlay_row",{dp__flex_row:u.items.length>=3}]),key:J,role:"row"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(v,(o,z)=>(e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:e.normalizeClass(x.value),key:o.value,"aria-selected":o.active,"aria-disabled":o.disabled||void 0,ref_for:!0,ref:_=>m(_,o,J,z),tabindex:"0",onClick:_=>D(o),onKeydown:[e.withKeys(e.withModifiers(_=>D(o),["prevent"]),["enter"]),e.withKeys(e.withModifiers(_=>D(o),["prevent"]),["space"])],onMouseover:_=>g(o.value)},[e.createElementVNode("div",{class:e.normalizeClass(o.className)},[u.$slots.item?e.renderSlot(u.$slots,"item",{key:0,item:o}):e.createCommentVNode("",!0),u.$slots.item?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],2)],42,Lr))),128))],2))),128))],6),u.$slots["button-icon"]?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button","aria-label":(i=e.unref(C))==null?void 0:i.toggleOverlay,class:e.normalizeClass(H.value),tabindex:"0",ref_key:"toggleButton",ref:Z,onClick:N,onKeydown:[e.withKeys(N,["enter"]),e.withKeys(N,["tab"])]},[e.renderSlot(u.$slots,"button-icon")],42,Hr)),[[e.vShow,!e.unref(S)(u.hideNavigation,u.type)]]):e.createCommentVNode("",!0)],46,Ir)}}}),Rt=e.defineComponent({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean}},setup(t){const r=t,a=e.computed(()=>r.multiCalendars>0?[...Array(r.multiCalendars).keys()]:[0]),n=e.computed(()=>({dp__instance_calendar:r.multiCalendars>0}));return(s,l)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass({dp__menu_inner:!s.stretch,"dp--menu--inner-stretched":s.stretch,dp__flex_display:s.multiCalendars>0})},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,(f,C)=>(e.openBlock(),e.createElementBlock("div",{key:f,class:e.normalizeClass(n.value)},[e.renderSlot(s.$slots,"default",{instance:f,index:C})],2))),128))],2))}}),Kr=["aria-label","aria-disabled"],je=e.defineComponent({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(t,{emit:r}){const a=e.ref(null);return e.onMounted(()=>r("set-ref",a)),(n,s)=>(e.openBlock(),e.createElementBlock("button",{type:"button",class:"dp__btn dp--arrow-btn-nav",onClick:s[0]||(s[0]=l=>n.$emit("activate")),onKeydown:[s[1]||(s[1]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["enter"])),s[2]||(s[2]=e.withKeys(e.withModifiers(l=>n.$emit("activate"),["prevent"]),["space"]))],tabindex:"0","aria-label":n.ariaLabel,"aria-disabled":n.disabled||void 0,ref_key:"elRef",ref:a},[e.createElementVNode("span",{class:e.normalizeClass(["dp__inner_nav",{dp__inner_nav_disabled:n.disabled}])},[e.renderSlot(n.$slots,"default")],2)],40,Kr))}}),Vt=(t,r,a)=>{if(r.value&&Array.isArray(r.value))if(r.value.some(n=>ae(t,n))){const n=r.value.filter(s=>!ae(s,t));r.value=n.length?n:null}else(a&&+a>r.value.length||!a)&&r.value.push(t);else r.value=[t]},Sn=(t,r,a)=>{let n=t.value?t.value.slice():[];return n.length===2&&n[1]!==null&&(n=[]),n.length?fe(r,n[0])?(n.unshift(r),a("range-start",n[0]),a("range-start",n[1])):(n[1]=r,a("range-end",r)):(n=[r],a("range-start",r)),t.value=n,n},Yt=(t,r,a,n)=>{t[0]&&t[1]&&a&&r("auto-apply"),t[0]&&!t[1]&&n&&a&&r("auto-apply")},Ur=(t,r)=>{const{defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s}=pe(t),{modelValue:l,year:f,month:C,calendars:w}=et(t,r),S=e.computed(()=>sn(t.formatLocale,t.locale,t.monthNameFormat)),k=e.computed(()=>St(t.yearRange,t.reverseYears)),T=e.ref(null),P=()=>{for(let b=0;b<a.value.count;b++)if(b===0)w.value[b]=w.value[0];else{const g=c.set(A(),w.value[b-1]);w.value[b]={month:c.getMonth(g),year:c.getYear(c.addYears(g,b))}}},j=b=>{if(!b)return P();const g=c.set(A(),w.value[b]);return w.value[0].year=c.getYear(c.subYears(g,a.value.count-1)),P()},L=b=>t.focusStartDate?b[0]:b[1]?b[1]:b[0],Z=()=>{if(l.value){const b=Array.isArray(l.value)?L(l.value):l.value;w.value[0]={month:c.getMonth(b),year:c.getYear(b)}}};e.onMounted(()=>{Z(),a.value.count&&P()});const W=e.computed(()=>(b,g)=>{const u=c.set(be(new Date),{month:C.value(b),year:f.value(b)});return kn(u,t.maxDate,t.minDate,t.preventMinMaxNavigation,g)}),M=b=>b?{month:c.getMonth(b),year:c.getYear(b)}:{month:null,year:null},$=()=>l.value?Array.isArray(l.value)?l.value.map(b=>M(b)):M(l.value):M(),R=(b,g)=>{const u=w.value[b],y=$();return Array.isArray(y)?y.some(i=>i.year===(u==null?void 0:u.year)&&i.month===g):(u==null?void 0:u.year)===y.year&&g===y.month},I=(b,g,u)=>{var i,v;const y=$();return Array.isArray(y)?f.value(g)===((i=y[u])==null?void 0:i.year)&&b===((v=y[u])==null?void 0:v.month):!1},B=(b,g)=>{if(t.range){const u=$();if(Array.isArray(l.value)&&Array.isArray(u)){const y=I(b,g,0)||I(b,g,1),i=$e(be(A()),b,f.value(g));return $t(l.value,T.value,i)&&!y}return!1}return!1},x=e.computed(()=>b=>Ye(S.value,g=>{const u=R(b,g.value),y=He(g.value,mn(f.value(b),t.minDate),pn(f.value(b),t.maxDate))||pr(t.disabledDates,f.value(b)).includes(g.value),i=B(g.value,b);return{active:u,disabled:y,isBetween:i}})),H=e.computed(()=>b=>Ye(k.value,g=>{const u=f.value(b)===g.value,y=He(g.value,Oe(t.minDate),Oe(t.maxDate));return{active:u,disabled:y}})),ee=(b,g)=>$e(be(A()),b,f.value(g)),p=(b,g)=>{const u=l.value?l.value:be(new Date);l.value=$e(u,b,f.value(g)),r("auto-apply")},D=(b,g)=>{const u=Sn(l,ee(b,g),r);Yt(u,r,t.autoApply,t.modelAuto)},N=(b,g)=>{Vt(ee(b,g),l,t.multiDatesLimit),r("auto-apply",!0)};return{groupedMonths:x,groupedYears:H,year:f,isDisabled:W,defaultedMultiCalendars:a,defaultedAriaLabels:n,defaultedTransitions:s,setHoverDate:(b,g)=>{T.value=ee(b,g)},selectMonth:(b,g)=>(w.value[g].month=b,t.multiDates?N(b,g):t.range?D(b,g):p(b,g)),selectYear:(b,g)=>{w.value[g].year=b,a.value.count&&!a.value.solo&&j(g)}}},Wr={class:"dp__month_picker_header"},xr=["aria-label","onClick","onKeydown"],jr=e.defineComponent({compatConfig:{MODE:3},__name:"MonthPicker",props:{...Be},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedMonths:n,groupedYears:s,year:l,isDisabled:f,defaultedMultiCalendars:C,defaultedAriaLabels:w,defaultedTransitions:S,setHoverDate:k,selectMonth:T,selectYear:P}=Ur(a,r),{transitionName:j,showTransition:L}=Ue(S),{showRightIcon:Z,showLeftIcon:W}=tt(),M=e.ref([!1]),$=(B,x)=>{P(B,x),I(x)},R=(B,x=!1)=>{if(!f.value(B,x)){const H=x?l.value(B)+1:l.value(B)-1;P(H,B)}},I=(B,x=!1,H)=>{x||r("reset-flow"),H!==void 0?M.value[B]=H:M.value[B]=!M.value[B],M.value||r("overlay-closed")};return(B,x)=>(e.openBlock(),e.createBlock(Rt,{"multi-calendars":e.unref(C).count,stretch:""},{default:e.withCtx(({instance:H})=>[B.$slots["month-year"]?e.renderSlot(B.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{year:e.unref(l),months:e.unref(n)(H),years:e.unref(s)(H),selectMonth:e.unref(T),selectYear:e.unref(P),instance:H}))):(e.openBlock(),e.createBlock(xe,{key:1,items:e.unref(n)(H),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!B.keepActionRow,"esc-close":B.escClose,height:B.modeHeight,onSelected:ee=>e.unref(T)(ee,H),onHoverValue:ee=>e.unref(k)(ee,H),"use-relative":"",type:"month"},{header:e.withCtx(()=>{var ee,p,D;return[e.createElementVNode("div",Wr,[e.unref(W)(e.unref(C),H)?(e.openBlock(),e.createBlock(je,{key:0,ref:"mpPrevIconRef","aria-label":(ee=e.unref(w))==null?void 0:ee.prevYear,disabled:e.unref(f)(H,!1),onActivate:N=>R(H,!1)},{default:e.withCtx(()=>[B.$slots["arrow-left"]?e.renderSlot(B.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp--year-select",role:"button",ref:"mpYearButtonRef","aria-label":(p=e.unref(w))==null?void 0:p.openYearsOverlay,tabindex:"0",onClick:()=>I(H,!1),onKeydown:e.withKeys(()=>I(H,!1),["enter"])},[B.$slots.year?e.renderSlot(B.$slots,"year",{key:0,year:e.unref(l)(H)}):e.createCommentVNode("",!0),B.$slots.year?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(e.unref(l)(H)),1)],64))],40,xr),e.unref(Z)(e.unref(C),H)?(e.openBlock(),e.createBlock(je,{key:1,ref:"mpNextIconRef","aria-label":(D=e.unref(w))==null?void 0:D.nextYear,disabled:e.unref(f)(H,!1),onActivate:N=>R(H,!0)},{default:e.withCtx(()=>[B.$slots["arrow-right"]?e.renderSlot(B.$slots,"arrow-right",{key:0}):e.createCommentVNode("",!0),B.$slots["arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(st),{key:1}))]),_:2},1032,["aria-label","disabled","onActivate"])):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(j)(M.value[H]),css:e.unref(L)},{default:e.withCtx(()=>[M.value[H]?(e.openBlock(),e.createBlock(xe,{key:0,items:e.unref(s)(H),"text-input":B.textInput,"esc-close":B.escClose,onToggle:N=>I(H),onSelected:N=>$(N,H),"is-last":B.autoApply&&!B.keepActionRow,type:"year"},e.createSlots({"button-icon":e.withCtx(()=>[B.$slots["calendar-icon"]?e.renderSlot(B.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),B.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[B.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:N})=>[e.renderSlot(B.$slots,"year-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","onToggle","onSelected","is-last"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])])]}),_:2},1032,["items","arrow-navigation","is-last","esc-close","height","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars"]))}}),Gr=(t,r)=>{const{modelValue:a}=et(t,r),n=e.ref(null),s=k=>Array.isArray(a.value)?a.value.some(T=>c.getYear(T)===k):a.value?c.getYear(a.value)===k:!1,l=k=>t.range&&Array.isArray(a.value)?$t(a.value,n.value,C(k)):!1,f=e.computed(()=>Ye(St(t.yearRange,t.reverseYears),k=>{const T=s(k.value),P=He(k.value,Oe(t.minDate),Oe(t.maxDate)),j=l(k.value);return{active:T,disabled:P,isBetween:j}})),C=k=>c.setYear(be(new Date),k);return{groupedYears:f,setHoverValue:k=>{n.value=c.setYear(be(new Date),k)},selectYear:k=>{if(t.multiDates)return Vt(C(k),a,t.multiDatesLimit),r("auto-apply",!0);if(t.range){const T=Sn(a,C(k),r);return Yt(T,r,t.autoApply,t.modelAuto)}a.value=C(k),r("auto-apply")}}},qr=e.defineComponent({compatConfig:{MODE:3},__name:"YearPicker",props:{...Be},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply"],setup(t,{emit:r}){const a=t,{groupedYears:n,selectYear:s,setHoverValue:l}=Gr(a,r);return(f,C)=>(e.openBlock(),e.createElementBlock("div",null,[f.$slots["month-year"]?e.renderSlot(f.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{years:e.unref(n),selectYear:e.unref(s)}))):(e.openBlock(),e.createBlock(xe,{key:1,items:e.unref(n),"is-last":f.autoApply&&!f.keepActionRow,height:f.modeHeight,type:"year","use-relative":"",onSelected:e.unref(s),onHoverValue:e.unref(l)},e.createSlots({_:2},[f.$slots["year-overlay-value"]?{name:"item",fn:e.withCtx(({item:w})=>[e.renderSlot(f.$slots,"year-overlay-value",{text:w.text,value:w.value})]),key:"0"}:void 0]),1032,["items","is-last","height","onSelected","onHoverValue"]))]))}}),Zr={key:0,class:"dp__time_input"},Jr=["aria-label","onKeydown","onClick"],Xr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),Qr=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),Fr=["aria-label","disabled","onKeydown","onClick"],ea=["aria-label","onKeydown","onClick"],ta=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1),na=e.createElementVNode("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1),ra={key:0},aa=["aria-label","onKeydown"],oa=e.defineComponent({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},...Be},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{setTimePickerElements:s,setTimePickerBackRef:l}=Ae(),{defaultedAriaLabels:f,defaultedTransitions:C,defaultedFilters:w}=pe(n),{transitionName:S,showTransition:k}=Ue(C),T=e.reactive({hours:!1,minutes:!1,seconds:!1}),P=e.ref("AM"),j=e.ref(null),L=e.ref([]);e.onMounted(()=>{a("mounted")});const Z=o=>c.set(new Date,{hours:o.hours,minutes:o.minutes,seconds:n.enableSeconds?o.seconds:0,milliseconds:0}),W=e.computed(()=>o=>D(o,n[o])),M=e.computed(()=>({hours:n.hours,minutes:n.minutes,seconds:n.seconds})),$=e.computed(()=>o=>!K(+n[o]+ +n[`${o}Increment`],o)),R=e.computed(()=>o=>!K(+n[o]-+n[`${o}Increment`],o)),I=(o,z)=>c.add(c.set(A(),o),z),B=(o,z)=>c.sub(c.set(A(),o),z),x=e.computed(()=>({dp__time_col:!0,dp__time_col_block:!n.timePickerInline,dp__time_col_reg_block:!n.enableSeconds&&n.is24&&!n.timePickerInline,dp__time_col_reg_inline:!n.enableSeconds&&n.is24&&n.timePickerInline,dp__time_col_reg_with_button:!n.enableSeconds&&!n.is24,dp__time_col_sec:n.enableSeconds&&n.is24,dp__time_col_sec_with_button:n.enableSeconds&&!n.is24})),H=e.computed(()=>{const o=[{type:"hours"},{type:"",separator:!0},{type:"minutes"}];return n.enableSeconds?o.concat([{type:"",separator:!0},{type:"seconds"}]):o}),ee=e.computed(()=>H.value.filter(o=>!o.separator)),p=e.computed(()=>o=>{if(o==="hours"){const z=u(+n.hours);return{text:z<10?`0${z}`:`${z}`,value:z}}return{text:n[o]<10?`0${n[o]}`:`${n[o]}`,value:n[o]}}),D=(o,z)=>{var h;if(!n.disabledTimesConfig)return!1;const _=n.disabledTimesConfig(n.order,o==="hours"?z:void 0);return _[o]?!!((h=_[o])!=null&&h.includes(z)):!0},N=o=>{const z=n.is24?24:12,_=o==="hours"?z:60,h=+n[`${o}GridIncrement`],Y=o==="hours"&&!n.is24?h:0,Q=[];for(let U=Y;U<_;U+=h)Q.push({value:U,text:U<10?`0${U}`:`${U}`});return o==="hours"&&!n.is24&&Q.push({value:0,text:"12"}),Ye(Q,U=>({active:!1,disabled:w.value.times[o].includes(U.value)||!K(U.value,o)||D(o,U.value)}))},K=(o,z)=>{const _=n.minTime?Z(Bt(n.minTime)):null,h=n.maxTime?Z(Bt(n.maxTime)):null,Y=Z(Bt(M.value,z,o));return _&&h?(c.isBefore(Y,h)||c.isEqual(Y,h))&&(c.isAfter(Y,_)||c.isEqual(Y,_)):_?c.isAfter(Y,_)||c.isEqual(Y,_):h?c.isBefore(Y,h)||c.isEqual(Y,h):!0},m=o=>n[`no${o[0].toUpperCase()+o.slice(1)}Overlay`],O=o=>{m(o)||(T[o]=!T[o],T[o]||a("overlay-closed"))},b=o=>o==="hours"?c.getHours:o==="minutes"?c.getMinutes:c.getSeconds,g=(o,z=!0)=>{const _=z?I:B,h=z?+n[`${o}Increment`]:-+n[`${o}Increment`];K(+n[o]+h,o)&&a(`update:${o}`,b(o)(_({[o]:+n[o]},{[o]:+n[`${o}Increment`]})))},u=o=>n.is24?o:(o>=12?P.value="PM":P.value="AM",rr(o)),y=()=>{P.value==="PM"?(P.value="AM",a("update:hours",n.hours-12)):(P.value="PM",a("update:hours",n.hours+12)),a("am-pm-change",P.value)},i=o=>{T[o]=!0},v=(o,z,_)=>{if(o&&n.arrowNavigation){Array.isArray(L.value[z])?L.value[z][_]=o:L.value[z]=[o];const h=L.value.reduce((Y,Q)=>Q.map((U,le)=>[...Y[le]||[],Q[le]]),[]);l(n.closeTimePickerBtn),j.value&&(h[1]=h[1].concat(j.value)),s(h,n.order)}},J=(o,z)=>(O(o),o==="hours"&&!n.is24?a(`update:${o}`,P.value==="PM"?z+12:z):a(`update:${o}`,z));return r({openChildCmp:i}),(o,z)=>{var _;return o.disabled?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",Zr,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(H.value,(h,Y)=>{var Q,U,le;return e.openBlock(),e.createElementBlock("div",{key:Y,class:e.normalizeClass(x.value)},[h.separator?(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createTextVNode(" : ")],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_top:n.timePickerInline,dp__inc_dec_button_disabled:$.value(h.type)}),"aria-label":(Q=e.unref(f))==null?void 0:Q.incrementValue(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>g(h.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>g(h.type),["prevent"]),["space"])],onClick:te=>g(h.type),ref_for:!0,ref:te=>v(te,Y,0)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[Xr,Qr],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-up"]?e.renderSlot(o.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ut),{key:1}))],64))],42,Jr),e.createElementVNode("button",{type:"button","aria-label":(U=e.unref(f))==null?void 0:U.openTpOverlay(h.type),class:e.normalizeClass({dp__time_display:!0,dp__time_display_block:!n.timePickerInline,dp__time_display_inline:n.timePickerInline,"dp--time-invalid":W.value(h.type),"dp--time-overlay-btn":!W.value(h.type)}),disabled:m(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>O(h.type),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>O(h.type),["prevent"]),["space"])],onClick:te=>O(h.type),ref_for:!0,ref:te=>v(te,Y,1)},[o.$slots[h.type]?e.renderSlot(o.$slots,h.type,{key:0,text:p.value(h.type).text,value:p.value(h.type).value}):e.createCommentVNode("",!0),o.$slots[h.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(p.value(h.type).text),1)],64))],42,Fr),e.createElementVNode("button",{type:"button",class:e.normalizeClass({dp__btn:!0,dp__inc_dec_button:!n.timePickerInline,dp__inc_dec_button_inline:n.timePickerInline,dp__tp_inline_btn_bottom:n.timePickerInline,dp__inc_dec_button_disabled:R.value(h.type)}),"aria-label":(le=e.unref(f))==null?void 0:le.decrementValue(h.type),tabindex:"0",onKeydown:[e.withKeys(e.withModifiers(te=>g(h.type,!1),["prevent"]),["enter"]),e.withKeys(e.withModifiers(te=>g(h.type,!1),["prevent"]),["space"])],onClick:te=>g(h.type,!1),ref_for:!0,ref:te=>v(te,Y,2)},[n.timePickerInline?(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[ta,na],64)):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[o.$slots["arrow-down"]?e.renderSlot(o.$slots,"arrow-down",{key:0}):e.createCommentVNode("",!0),o.$slots["arrow-down"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ct),{key:1}))],64))],42,ea)],64))],2)}),128)),o.is24?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",ra,[o.$slots["am-pm-button"]?e.renderSlot(o.$slots,"am-pm-button",{key:0,toggle:y,value:P.value}):e.createCommentVNode("",!0),o.$slots["am-pm-button"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("button",{key:1,ref_key:"amPmButton",ref:j,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(_=e.unref(f))==null?void 0:_.amPmButton,tabindex:"0",onClick:y,onKeydown:[e.withKeys(e.withModifiers(y,["prevent"]),["enter"]),e.withKeys(e.withModifiers(y,["prevent"]),["space"])]},e.toDisplayString(P.value),41,aa))])),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(ee.value,(h,Y)=>(e.openBlock(),e.createBlock(e.Transition,{key:Y,name:e.unref(S)(T[h.type]),css:e.unref(k)},{default:e.withCtx(()=>[T[h.type]?(e.openBlock(),e.createBlock(xe,{key:0,items:N(h.type),"is-last":o.autoApply&&!o.keepActionRow,"esc-close":o.escClose,type:h.type,"text-input":o.textInput,"arrow-navigation":o.arrowNavigation,onSelected:Q=>J(h.type,Q),onToggle:Q=>O(h.type),onResetFlow:z[0]||(z[0]=Q=>o.$emit("reset-flow"))},e.createSlots({"button-icon":e.withCtx(()=>[o.$slots["clock-icon"]?e.renderSlot(o.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),o.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))]),_:2},[o.$slots[`${h.type}-overlay-value`]?{name:"item",fn:e.withCtx(({item:Q})=>[e.renderSlot(o.$slots,`${h.type}-overlay-value`,{text:Q.text,value:Q.value})]),key:"0"}:void 0]),1032,["items","is-last","esc-close","type","text-input","arrow-navigation","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"]))),128))]))}}}),la=["aria-label"],sa=["tabindex"],ia=["aria-label"],$n=e.defineComponent({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},...Be},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(t,{expose:r,emit:a}){const n=t,{buildMatrix:s,setTimePicker:l}=Ae(),f=e.useSlots(),{defaultedTransitions:C,defaultedAriaLabels:w,defaultedTextInput:S}=pe(n),{transitionName:k,showTransition:T}=Ue(C),{hideNavigationButtons:P}=tt(),j=e.ref(null),L=e.ref(null),Z=e.ref([]),W=e.ref(null);e.onMounted(()=>{a("mount"),!n.timePicker&&n.arrowNavigation?s([ce(j.value)],"time"):l(!0,n.timePicker)});const M=e.computed(()=>n.range&&n.modelAuto?un(n.internalModelValue):!0),$=e.ref(!1),R=m=>({hours:Array.isArray(n.hours)?n.hours[m]:n.hours,minutes:Array.isArray(n.minutes)?n.minutes[m]:n.minutes,seconds:Array.isArray(n.seconds)?n.seconds[m]:n.seconds}),I=e.computed(()=>{const m=[];if(n.range)for(let O=0;O<2;O++)m.push(R(O));else m.push(R(0));return m}),B=(m,O=!1,b="")=>{O||a("reset-flow"),$.value=m,a(m?"overlay-opened":"overlay-closed"),n.arrowNavigation&&l(m),e.nextTick(()=>{b!==""&&Z.value[0]&&Z.value[0].openChildCmp(b)})},x=e.computed(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:n.autoApply&&!n.keepActionRow})),H=De(f,"timePicker"),ee=(m,O,b)=>n.range?O===0?[m,I.value[1][b]]:[I.value[0][b],m]:m,p=m=>{a("update:hours",m)},D=m=>{a("update:minutes",m)},N=m=>{a("update:seconds",m)},K=()=>{if(W.value&&!S.value.enabled){const m=or(W.value);m&&m.focus({preventScroll:!0})}};return r({toggleTimePicker:B}),(m,O)=>{var b;return e.openBlock(),e.createElementBlock("div",null,[!m.timePicker&&!m.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:0,type:"button",class:e.normalizeClass(x.value),"aria-label":(b=e.unref(w))==null?void 0:b.openTimePicker,tabindex:"0",ref_key:"openTimePickerBtn",ref:j,onKeydown:[O[0]||(O[0]=e.withKeys(g=>B(!0),["enter"])),O[1]||(O[1]=e.withKeys(g=>B(!0),["space"]))],onClick:O[2]||(O[2]=g=>B(!0))},[m.$slots["clock-icon"]?e.renderSlot(m.$slots,"clock-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["clock-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(it),{key:1}))],42,la)),[[e.vShow,!e.unref(P)(m.hideNavigation,"time")]]):e.createCommentVNode("",!0),e.createVNode(e.Transition,{name:e.unref(k)($.value),css:e.unref(T)&&!m.timePickerInline},{default:e.withCtx(()=>{var g;return[$.value||m.timePicker||m.timePickerInline?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass({dp__overlay:!m.timePickerInline,"dp--overlay-absolute":!n.timePicker&&!m.timePickerInline,"dp--overlay-relative":n.timePicker}),style:e.normalizeStyle(m.timePicker?{height:`${m.modeHeight}px`}:void 0),ref_key:"overlayRef",ref:W,tabindex:m.timePickerInline?void 0:0},[e.createElementVNode("div",{class:e.normalizeClass(m.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[m.$slots["time-picker-overlay"]?e.renderSlot(m.$slots,"time-picker-overlay",{key:0,hours:t.hours,minutes:t.minutes,seconds:t.seconds,setHours:p,setMinutes:D,setSeconds:N}):e.createCommentVNode("",!0),m.$slots["time-picker-overlay"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(m.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(I.value,(u,y)=>e.withDirectives((e.openBlock(),e.createBlock(oa,e.mergeProps({key:y},{...m.$props,order:y,hours:u.hours,minutes:u.minutes,seconds:u.seconds,closeTimePickerBtn:L.value,disabledTimesConfig:t.disabledTimesConfig,disabled:y===0?m.fixedStart:m.fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:Z,"onUpdate:hours":i=>p(ee(i,y,"hours")),"onUpdate:minutes":i=>D(ee(i,y,"minutes")),"onUpdate:seconds":i=>N(ee(i,y,"seconds")),onMounted:K,onOverlayClosed:K,onAmPmChange:O[3]||(O[3]=i=>m.$emit("am-pm-change",i))}),e.createSlots({_:2},[e.renderList(e.unref(H),(i,v)=>({name:i,fn:e.withCtx(J=>[e.renderSlot(m.$slots,i,e.normalizeProps(e.guardReactiveProps(J)))])}))]),1040,["onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[e.vShow,y===0?!0:M.value]])),128))],2)),!m.timePicker&&!m.timePickerInline?e.withDirectives((e.openBlock(),e.createElementBlock("button",{key:2,type:"button",ref_key:"closeTimePickerBtn",ref:L,class:e.normalizeClass(x.value),"aria-label":(g=e.unref(w))==null?void 0:g.closeTimePicker,tabindex:"0",onKeydown:[O[4]||(O[4]=e.withKeys(u=>B(!1),["enter"])),O[5]||(O[5]=e.withKeys(u=>B(!1),["space"]))],onClick:O[6]||(O[6]=u=>B(!1))},[m.$slots["calendar-icon"]?e.renderSlot(m.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),m.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))],42,ia)),[[e.vShow,!e.unref(P)(m.hideNavigation,"time")]]):e.createCommentVNode("",!0)],2)],14,sa)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])])}}}),Bn=(t,r,a,n)=>{const s=(M,$)=>Array.isArray(r[M])?r[M][$]:r[M],l=M=>t.enableSeconds?Array.isArray(r.seconds)?r.seconds[M]:r.seconds:0,f=(M,$)=>M?$!==void 0?Te(M,s("hours",$),s("minutes",$),l($)):Te(M,r.hours,r.minutes,l()):A(),C=(M,$)=>{r[M]=$},w=(M,$)=>{const R=Object.fromEntries(Object.keys(r).map(I=>I===M?[I,$]:[I,r[I]].slice()));if(t.range&&!t.disableTimeRangeValidation){const I=x=>a.value?Te(a.value[x],R.hours[x],R.minutes[x],R.seconds[x]):null,B=x=>c.setMilliseconds(a.value[x],0);return!(ae(I(0),I(1))&&(c.isAfter(I(0),B(1))||c.isBefore(I(1),B(0))))}return!0},S=(M,$)=>{w(M,$)&&(C(M,$),n&&n())},k=M=>{S("hours",M)},T=M=>{S("minutes",M)},P=M=>{S("seconds",M)},j=(M,$,R,I)=>{$&&k(M),!$&&!R&&T(M),R&&P(M),a.value&&I(a.value)},L=M=>{if(M){const $=Array.isArray(M),R=$?[+M[0].hours,+M[1].hours]:+M.hours,I=$?[+M[0].minutes,+M[1].minutes]:+M.minutes,B=$?[+M[0].seconds,+M[1].seconds]:+M.seconds;C("hours",R),C("minutes",I),t.enableSeconds&&C("seconds",B)}},Z=(M,$)=>{const R={hours:Array.isArray(r.hours)?r.hours[M]:r.hours,disabledArr:[]};return($||$===0)&&(R.hours=$),Array.isArray(t.disabledTimes)&&(R.disabledArr=t.range&&Array.isArray(t.disabledTimes[M])?t.disabledTimes[M]:t.disabledTimes),R},W=e.computed(()=>(M,$)=>{var R;if(Array.isArray(t.disabledTimes)){const{disabledArr:I,hours:B}=Z(M,$),x=I.filter(H=>+H.hours===B);return((R=x[0])==null?void 0:R.minutes)==="*"?{hours:[B],minutes:void 0,seconds:void 0}:{hours:[],minutes:(x==null?void 0:x.map(H=>+H.minutes))??[],seconds:(x==null?void 0:x.map(H=>H.seconds?+H.seconds:void 0))??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:C,updateHours:k,updateMinutes:T,updateSeconds:P,getSetDateTime:f,updateTimeValues:j,getSecondsValue:l,assignStartTime:L,disabledTimesConfig:W}},ua=(t,r)=>{const{modelValue:a,time:n}=et(t,r),{defaultedStartTime:s}=pe(t),{updateTimeValues:l,getSetDateTime:f,setTime:C,assignStartTime:w,disabledTimesConfig:S}=Bn(t,n,a),k=$=>{const{hours:R,minutes:I,seconds:B}=$;return{hours:+R,minutes:+I,seconds:B?+B:0}},T=()=>{if(t.startTime){if(Array.isArray(t.startTime)){const R=k(t.startTime[0]),I=k(t.startTime[1]);return[c.set(A(),R),c.set(A(),I)]}const $=k(t.startTime);return c.set(A(),$)}return t.range?[null,null]:null},P=()=>{if(t.range){const[$,R]=T();a.value=[f($,0),f(R,1)]}else a.value=f(T())},j=$=>Array.isArray($)?[Pe(A($[0])),Pe(A($[1]))]:[Pe($??A())],L=($,R,I)=>{C("hours",$),C("minutes",R),t.enableSeconds&&C("seconds",I)},Z=()=>{const[$,R]=j(a.value);return t.range?L([$.hours,R.hours],[$.minutes,R.minutes],[$.seconds,R.minutes]):L($.hours,$.minutes,$.seconds)};e.onMounted(()=>{if(!t.shadow)return w(s.value),a.value?Z():P()});const W=()=>{Array.isArray(a.value)?a.value=a.value.map(($,R)=>$&&f($,R)):a.value=f(a.value),r("time-update")};return{time:n,disabledTimesConfig:S,updateTime:($,R=!0,I=!1)=>{l($,R,I,W)}}},ca=e.defineComponent({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...Be},emits:["update:internal-model-value","time-update","am-pm-change"],setup(t,{emit:r}){const a=t,n=e.useSlots(),s=De(n,"timePicker"),{time:l,disabledTimesConfig:f,updateTime:C}=ua(a,r);return(w,S)=>(e.openBlock(),e.createBlock(Rt,{"multi-calendars":0,stretch:""},{default:e.withCtx(()=>[e.createVNode($n,e.mergeProps(w.$props,{hours:e.unref(l).hours,minutes:e.unref(l).minutes,seconds:e.unref(l).seconds,"internal-model-value":w.internalModelValue,"disabled-times-config":e.unref(f),"onUpdate:hours":S[0]||(S[0]=k=>e.unref(C)(k)),"onUpdate:minutes":S[1]||(S[1]=k=>e.unref(C)(k,!1)),"onUpdate:seconds":S[2]||(S[2]=k=>e.unref(C)(k,!1,!0)),onAmPmChange:S[3]||(S[3]=k=>w.$emit("am-pm-change",k))}),e.createSlots({_:2},[e.renderList(e.unref(s),(k,T)=>({name:k,fn:e.withCtx(P=>[e.renderSlot(w.$slots,k,e.normalizeProps(e.guardReactiveProps(P)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"])]),_:3}))}}),da={class:"dp__month_year_row"},fa=["aria-label","onClick","onKeydown"],ma=e.defineComponent({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...Be},emits:["update-month-year","mount","reset-flow","overlay-closed"],setup(t,{expose:r,emit:a}){const n=t,{defaultedTransitions:s,defaultedAriaLabels:l,defaultedMultiCalendars:f,defaultedFilters:C}=pe(n),{transitionName:w,showTransition:S}=Ue(s),{buildMatrix:k}=Ae(),{handleMonthYearChange:T,isDisabled:P,updateMonthYear:j}=Sr(n,a),{showLeftIcon:L,showRightIcon:Z}=tt(),W=e.ref(!1),M=e.ref(!1),$=e.ref([null,null,null,null]);e.onMounted(()=>{a("mount")});const R=u=>({get:()=>n[u],set:y=>{const i=u===Me.month?Me.year:Me.month;a("update-month-year",{[u]:y,[i]:n[i]}),u===Me.month?N(!0):K(!0)}}),I=e.computed(R(Me.month)),B=e.computed(R(Me.year)),x=e.computed(()=>u=>({month:n.month,year:n.year,items:u===Me.month?n.months:n.years,instance:n.instance,updateMonthYear:j,toggle:u===Me.month?N:K})),H=e.computed(()=>{const u=n.months.find(y=>y.value===n.month);return u||{text:"",value:0}}),ee=e.computed(()=>Ye(n.months,u=>{const y=n.month===u.value,i=He(u.value,mn(n.year,n.minDate),pn(n.year,n.maxDate))||C.value.months.includes(u.value);return{active:y,disabled:i}})),p=e.computed(()=>Ye(n.years,u=>{const y=n.year===u.value,i=He(u.value,Oe(n.minDate),Oe(n.maxDate))||C.value.years.includes(u.value);return{active:y,disabled:i}})),D=(u,y)=>{y!==void 0?u.value=y:u.value=!u.value,u.value||a("overlay-closed")},N=(u=!1,y)=>{m(u),D(W,y)},K=(u=!1,y)=>{m(u),D(M,y)},m=u=>{u||a("reset-flow")},O=(u,y)=>{n.arrowNavigation&&($.value[y]=ce(u),k($.value,"monthYear"))},b=e.computed(()=>{var u,y;return[{type:Me.month,index:1,toggle:N,modelValue:I.value,updateModelValue:i=>I.value=i,text:H.value.text,showSelectionGrid:W.value,items:ee.value,ariaLabel:(u=l.value)==null?void 0:u.openMonthsOverlay},{type:Me.year,index:2,toggle:K,modelValue:B.value,updateModelValue:i=>B.value=i,text:n.year,showSelectionGrid:M.value,items:p.value,ariaLabel:(y=l.value)==null?void 0:y.openYearsOverlay}]}),g=e.computed(()=>n.disableYearSelect?[b.value[0]]:b.value);return r({toggleMonthPicker:N,toggleYearPicker:K,handleMonthYearChange:T}),(u,y)=>{var i,v,J;return e.openBlock(),e.createElementBlock("div",da,[u.$slots["month-year"]?e.renderSlot(u.$slots,"month-year",e.normalizeProps(e.mergeProps({key:0},{month:t.month,year:t.year,months:t.months,years:t.years,updateMonthYear:e.unref(j),handleMonthYearChange:e.unref(T),instance:t.instance}))):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.unref(L)(e.unref(f),t.instance)&&!u.vertical?(e.openBlock(),e.createBlock(je,{key:0,"aria-label":(i=e.unref(l))==null?void 0:i.prevMonth,disabled:e.unref(P)(!1),onActivate:y[0]||(y[0]=o=>e.unref(T)(!1,!0)),onSetRef:y[1]||(y[1]=o=>O(o,0))},{default:e.withCtx(()=>[u.$slots["arrow-left"]?e.renderSlot(u.$slots,"arrow-left",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-left"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(lt),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:e.normalizeClass(["dp__month_year_wrap",{dp__year_disable_select:u.disableYearSelect}])},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(g.value,(o,z)=>(e.openBlock(),e.createElementBlock(e.Fragment,{key:o.type},[e.createElementVNode("button",{type:"button",class:"dp__btn dp__month_year_select",tabindex:"0","aria-label":o.ariaLabel,ref_for:!0,ref:_=>O(_,z+1),onClick:o.toggle,onKeydown:[e.withKeys(e.withModifiers(o.toggle,["prevent"]),["enter"]),e.withKeys(e.withModifiers(o.toggle,["prevent"]),["space"])]},[u.$slots[o.type]?e.renderSlot(u.$slots,o.type,{key:0,text:o.text,value:n[o.type]}):e.createCommentVNode("",!0),u.$slots[o.type]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o.text),1)],64))],40,fa),e.createVNode(e.Transition,{name:e.unref(w)(o.showSelectionGrid),css:e.unref(S)},{default:e.withCtx(()=>[o.showSelectionGrid?(e.openBlock(),e.createBlock(xe,{key:0,items:o.items,"arrow-navigation":u.arrowNavigation,"hide-navigation":u.hideNavigation,"is-last":u.autoApply&&!u.keepActionRow,"skip-button-ref":!1,type:o.type,"header-refs":[],"esc-close":u.escClose,"text-input":u.textInput,onSelected:o.updateModelValue,onToggle:o.toggle},e.createSlots({"button-icon":e.withCtx(()=>[u.$slots["calendar-icon"]?e.renderSlot(u.$slots,"calendar-icon",{key:0}):e.createCommentVNode("",!0),u.$slots["calendar-icon"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(Le),{key:1}))]),_:2},[u.$slots[`${o.type}-overlay-val`]?{name:"item",fn:e.withCtx(({item:_})=>[e.renderSlot(u.$slots,`${o.type}-overlay-val`,{text:_.text,value:_.value})]),key:"0"}:void 0,u.$slots[`${o.type}-overlay`]?{name:"overlay",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${o.type}-overlay`,e.normalizeProps(e.guardReactiveProps(x.value(o.type))))]),key:"1"}:void 0,u.$slots[`${o.type}-overlay-header`]?{name:"header",fn:e.withCtx(()=>[e.renderSlot(u.$slots,`${o.type}-overlay-header`,{toggle:o.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","type","esc-close","text-input","onSelected","onToggle"])):e.createCommentVNode("",!0)]),_:2},1032,["name","css"])],64))),128))],2),e.unref(L)(e.unref(f),t.instance)&&u.vertical?(e.openBlock(),e.createBlock(je,{key:1,"aria-label":(v=e.unref(l))==null?void 0:v.prevMonth,disabled:e.unref(P)(!1),onActivate:y[2]||(y[2]=o=>e.unref(T)(!1,!0))},{default:e.withCtx(()=>[u.$slots["arrow-up"]?e.renderSlot(u.$slots,"arrow-up",{key:0}):e.createCommentVNode("",!0),u.$slots["arrow-up"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.unref(ut),{key:1}))]),_:3},8,["aria-label","disabled"])):e.createCommentVNode("",!0),e.unref(Z)(e.unref(f),t.instance)?(e.openBlock(),e.createBlock(je,{key:2,ref:"rightIcon",disabled:e.unref(P)(!0),"aria-label":(J=e.unref(l))==null?void 0:J.nextMonth,onActivate:y[3]||(y[3]=o=>e.unref(T)(!0,!0)),onSetRef:y[4]||(y[4]=o=>O(o,u.disableYearSelect?2:3))},{default:e.withCtx(()=>[u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.renderSlot(u.$slots,u.vertical?"arrow-down":"arrow-right",{key:0}):e.createCommentVNode("",!0),u.$slots[u.vertical?"arrow-down":"arrow-right"]?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(e.resolveDynamicComponent(u.vertical?e.unref(ct):e.unref(st)),{key:1}))]),_:3},8,["disabled","aria-label"])):e.createCommentVNode("",!0)],64))])}}}),pa=["aria-label"],ga={class:"dp__calendar_header",role:"row"},ha={key:0,class:"dp__calendar_header_item",role:"gridcell"},ya=e.createElementVNode("div",{class:"dp__calendar_header_separator"},null,-1),ka=["aria-label"],wa={key:0,role:"gridcell",class:"dp__calendar_item dp__week_num"},ba={class:"dp__cell_inner"},Ma=["aria-selected","aria-disabled","aria-label","onClick","onKeydown","onMouseenter","onMouseleave"],Da=e.defineComponent({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...Be},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(t,{expose:r,emit:a}){const n=t,{buildMultiLevelMatrix:s}=Ae(),{defaultedTransitions:l,defaultedAriaLabels:f,defaultedMultiCalendars:C}=pe(n),w=e.ref(null),S=e.ref({bottom:"",left:"",transform:""}),k=e.ref([]),T=e.ref(null),P=e.ref(!0),j=e.ref(""),L=e.ref({startX:0,endX:0,startY:0,endY:0}),Z=e.ref([]),W=e.ref({left:"50%"}),M=e.computed(()=>n.calendar?n.calendar(n.mappedDates):n.mappedDates),$=e.computed(()=>n.dayNames?Array.isArray(n.dayNames)?n.dayNames:n.dayNames(n.locale,+n.weekStart):nr(n.formatLocale,n.locale,+n.weekStart));e.onMounted(()=>{a("mount",{cmp:"calendar",refs:k}),n.noSwipe||T.value&&(T.value.addEventListener("touchstart",K,{passive:!1}),T.value.addEventListener("touchend",m,{passive:!1}),T.value.addEventListener("touchmove",O,{passive:!1})),n.monthChangeOnScroll&&T.value&&T.value.addEventListener("wheel",u,{passive:!1})});const R=i=>i?n.vertical?"vNext":"next":n.vertical?"vPrevious":"previous",I=(i,v)=>{if(n.transitions){const J=ke($e(A(),n.month,n.year));j.value=ge(ke($e(A(),i,v)),J)?l.value[R(!0)]:l.value[R(!1)],P.value=!1,e.nextTick(()=>{P.value=!0})}},B=e.computed(()=>({[n.calendarClassName]:!!n.calendarClassName})),x=e.computed(()=>i=>{const v=ar(i);return{dp__marker_dot:v.type==="dot",dp__marker_line:v.type==="line"}}),H=e.computed(()=>i=>ae(i,w.value)),ee=e.computed(()=>({dp__calendar:!0,dp__calendar_next:C.value.count>0&&n.instance!==0})),p=e.computed(()=>i=>n.hideOffsetDates?i.current:!0),D=async(i,v,J)=>{var o,z;if(a("set-hover-date",i),(z=(o=i.marker)==null?void 0:o.tooltip)!=null&&z.length){const _=ce(k.value[v][J]);if(_){const{width:h,height:Y}=_.getBoundingClientRect();w.value=i.value;let Q={left:`${h/2}px`},U=-50;if(await e.nextTick(),Z.value[0]){const{left:le,width:te}=Z.value[0].getBoundingClientRect();le<0&&(Q={left:"0"},U=0,W.value.left=`${h/2}px`),window.innerWidth<le+te&&(Q={right:"0"},U=0,W.value.left=`${te-h/2}px`)}S.value={bottom:`${Y}px`,...Q,transform:`translateX(${U}%)`},a("tooltip-open",i.marker)}}},N=i=>{w.value&&(w.value=null,S.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",i.marker))},K=i=>{L.value.startX=i.changedTouches[0].screenX,L.value.startY=i.changedTouches[0].screenY},m=i=>{L.value.endX=i.changedTouches[0].screenX,L.value.endY=i.changedTouches[0].screenY,b()},O=i=>{n.vertical&&!n.inline&&i.preventDefault()},b=()=>{const i=n.vertical?"Y":"X";Math.abs(L.value[`start${i}`]-L.value[`end${i}`])>10&&a("handle-swipe",L.value[`start${i}`]>L.value[`end${i}`]?"right":"left")},g=(i,v,J)=>{i&&(Array.isArray(k.value[v])?k.value[v][J]=i:k.value[v]=[i]),n.arrowNavigation&&s(k.value,"calendar")},u=i=>{n.monthChangeOnScroll&&(i.preventDefault(),a("handle-scroll",i))},y=i=>{const v=i[0];return n.weekNumbers==="local"?c.getWeek(v.value,{weekStartsOn:+n.weekStart}):n.weekNumbers==="iso"?c.getISOWeek(v.value):typeof n.weekNumbers=="function"?n.weekNumbers(v.value):""};return r({triggerTransition:I}),(i,v)=>{var J;return e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(ee.value)},[e.createElementVNode("div",{ref_key:"calendarWrapRef",ref:T,role:"grid",class:e.normalizeClass(B.value),"aria-label":(J=e.unref(f))==null?void 0:J.calendarWrap},[(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[e.createElementVNode("div",ga,[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",ha,e.toDisplayString(i.weekNumName),1)):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList($.value,(o,z)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_header_item",role:"gridcell",key:z},[i.$slots["calendar-header"]?e.renderSlot(i.$slots,"calendar-header",{key:0,day:o,index:z}):e.createCommentVNode("",!0),i.$slots["calendar-header"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(o),1)],64))]))),128))]),ya,e.createVNode(e.Transition,{name:j.value,css:!!i.transitions},{default:e.withCtx(()=>{var o;return[P.value?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__calendar",role:"grid","aria-label":((o=e.unref(f))==null?void 0:o.calendarDays)||void 0},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(M.value,(z,_)=>(e.openBlock(),e.createElementBlock("div",{class:"dp__calendar_row",role:"row",key:_},[i.weekNumbers?(e.openBlock(),e.createElementBlock("div",wa,[e.createElementVNode("div",ba,e.toDisplayString(y(z.days)),1)])):e.createCommentVNode("",!0),(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(z.days,(h,Y)=>{var Q,U,le;return e.openBlock(),e.createElementBlock("div",{role:"gridcell",class:"dp__calendar_item",ref_for:!0,ref:te=>g(te,_,Y),key:Y+_,"aria-selected":h.classData.dp__active_date||h.classData.dp__range_start||h.classData.dp__range_start,"aria-disabled":h.classData.dp__cell_disabled||void 0,"aria-label":(U=(Q=e.unref(f))==null?void 0:Q.day)==null?void 0:U.call(Q,h),tabindex:"0",onClick:e.withModifiers(te=>i.$emit("select-date",h),["stop","prevent"]),onKeydown:[e.withKeys(te=>i.$emit("select-date",h),["enter"]),e.withKeys(te=>i.$emit("handle-space",h),["space"])],onMouseenter:te=>D(h,_,Y),onMouseleave:te=>N(h)},[e.createElementVNode("div",{class:e.normalizeClass(["dp__cell_inner",h.classData])},[i.$slots.day&&p.value(h)?e.renderSlot(i.$slots,"day",{key:0,day:+h.text,date:h.value}):e.createCommentVNode("",!0),i.$slots.day?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createTextVNode(e.toDisplayString(h.text),1)],64)),h.marker&&p.value(h)?(e.openBlock(),e.createElementBlock(e.Fragment,{key:2},[i.$slots.marker?e.renderSlot(i.$slots,"marker",{key:0,marker:h.marker,day:+h.text,date:h.value}):(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(x.value(h.marker)),style:e.normalizeStyle(h.marker.color?{backgroundColor:h.marker.color}:{})},null,6))],64)):e.createCommentVNode("",!0),H.value(h.value)?(e.openBlock(),e.createElementBlock("div",{key:3,class:"dp__marker_tooltip",ref_for:!0,ref_key:"activeTooltip",ref:Z,style:e.normalizeStyle(S.value)},[(le=h.marker)!=null&&le.tooltip?(e.openBlock(),e.createElementBlock("div",{key:0,class:"dp__tooltip_content",onClick:v[0]||(v[0]=e.withModifiers(()=>{},["stop"]))},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(h.marker.tooltip,(te,E)=>(e.openBlock(),e.createElementBlock("div",{key:E,class:"dp__tooltip_text"},[i.$slots["marker-tooltip"]?e.renderSlot(i.$slots,"marker-tooltip",{key:0,tooltip:te,day:h.value}):e.createCommentVNode("",!0),i.$slots["marker-tooltip"]?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:1},[e.createElementVNode("div",{class:"dp__tooltip_mark",style:e.normalizeStyle(te.color?{backgroundColor:te.color}:{})},null,4),e.createElementVNode("div",null,e.toDisplayString(te.text),1)],64))]))),128)),e.createElementVNode("div",{class:"dp__arrow_bottom_tp",style:e.normalizeStyle(W.value)},null,4)])):e.createCommentVNode("",!0)],4)):e.createCommentVNode("",!0)],2)],40,Ma)}),128))]))),128))],8,ka)):e.createCommentVNode("",!0)]}),_:3},8,["name","css"])],64))],10,pa)],2)}}}),Tn=t=>Array.isArray(t),Ca=(t,r,a,n)=>{const s=e.ref([]),{modelValue:l,calendars:f,time:C}=et(t,r),{defaultedMultiCalendars:w,defaultedStartTime:S}=pe(t),{validateMonthYearInRange:k,isDisabled:T,isDateRangeAllowed:P,checkMinMaxRange:j}=We(t),{updateTimeValues:L,getSetDateTime:Z,setTime:W,assignStartTime:M,disabledTimesConfig:$}=Bn(t,C,l,n),R=e.computed(()=>d=>f.value[d]?f.value[d].month:0),I=e.computed(()=>d=>f.value[d]?f.value[d].year:0),B=(d,V,X)=>{var re,se;f.value[d]||(f.value[d]={month:0,year:0}),f.value[d].month=dn(V)?(re=f.value[d])==null?void 0:re.month:V,f.value[d].year=dn(X)?(se=f.value[d])==null?void 0:se.year:X},x=()=>{t.autoApply&&r("select-date")};e.watch(l,(d,V)=>{JSON.stringify(d)!==JSON.stringify(V)&&p()}),e.onMounted(()=>{t.shadow||(l.value||(i(),S.value&&M(S.value)),p(!0),t.focusStartDate&&t.startDate&&i())});const H=e.computed(()=>{var d;return(d=t.flow)!=null&&d.length&&!t.partialFlow?t.flowStep===t.flow.length:!0}),ee=()=>{t.autoApply&&H.value&&r("auto-apply",t.partialFlow)},p=(d=!1)=>{if(l.value)return Array.isArray(l.value)?(s.value=l.value,b(d)):N(l.value,d);if(w.value.count&&d&&!t.startDate)return D(A(),d)},D=(d,V=!1)=>{if((!w.value.count||!w.value.static||V)&&B(0,c.getMonth(d),c.getYear(d)),w.value.count)for(let X=1;X<w.value.count;X++){const re=c.set(A(),{month:R.value(X-1),year:I.value(X-1)}),se=c.add(re,{months:1});f.value[X]={month:c.getMonth(se),year:c.getYear(se)}}},N=(d,V)=>{D(d),W("hours",c.getHours(d)),W("minutes",c.getMinutes(d)),W("seconds",c.getSeconds(d)),w.value.count&&V&&y()},K=d=>{if(w.value.count){if(w.value.solo)return 0;const V=c.getMonth(d[0]),X=c.getMonth(d[1]);return Math.abs(X-V)<w.value.count?0:1}return 1},m=(d,V)=>{d[1]&&t.showLastInRange?D(d[K(d)],V):D(d[0],V);const X=(re,se)=>[re(d[0]),d[1]?re(d[1]):C[se][1]];W("hours",X(c.getHours,"hours")),W("minutes",X(c.getMinutes,"minutes")),W("seconds",X(c.getSeconds,"seconds"))},O=(d,V)=>{if((t.range||t.weekPicker)&&!t.multiDates)return m(d,V);if(t.multiDates&&V){const X=d[d.length-1];return N(X,V)}},b=d=>{const V=l.value;O(V,d),w.value.count&&w.value.solo&&y()},g=(d,V)=>{const X=c.set(A(),{month:R.value(V),year:I.value(V)}),re=d<0?c.addMonths(X,1):c.subMonths(X,1);k(c.getMonth(re),c.getYear(re),d<0,t.preventMinMaxNavigation)&&(B(V,c.getMonth(re),c.getYear(re)),w.value.count&&!w.value.solo&&u(V),a())},u=d=>{for(let V=d-1;V>=0;V--){const X=c.subMonths(c.set(A(),{month:R.value(V+1),year:I.value(V+1)}),1);B(V,c.getMonth(X),c.getYear(X))}for(let V=d+1;V<=w.value.count-1;V++){const X=c.addMonths(c.set(A(),{month:R.value(V-1),year:I.value(V-1)}),1);B(V,c.getMonth(X),c.getYear(X))}},y=()=>{if(Array.isArray(l.value)&&l.value.length===2){const d=A(A(l.value[1]?l.value[1]:c.addMonths(l.value[0],1))),[V,X]=[c.getMonth(l.value[0]),c.getYear(l.value[0])],[re,se]=[c.getMonth(l.value[1]),c.getYear(l.value[1])];(V!==re||V===re&&X!==se)&&w.value.solo&&B(1,c.getMonth(d),c.getYear(d))}else l.value&&!Array.isArray(l.value)&&(B(0,c.getMonth(l.value),c.getYear(l.value)),D(A()))},i=()=>{t.startDate&&(B(0,c.getMonth(A(t.startDate)),c.getYear(A(t.startDate))),w.value.count&&u(0))},v=(d,V)=>{t.monthChangeOnScroll&&g(t.monthChangeOnScroll!=="inverse"?-d.deltaY:d.deltaY,V)},J=(d,V,X=!1)=>{t.monthChangeOnArrows&&t.vertical===X&&o(d,V)},o=(d,V)=>{g(d==="right"?-1:1,V)},z=d=>t.markers.find(V=>ae(gn(d.value),gn(V.date))),_=(d,V)=>{switch(t.sixWeeks===!0?"append":t.sixWeeks){case"prepend":return[!0,!1];case"center":return[d==0,!0];case"fair":return[d==0||V>d,!0];case"append":return[!1,!1];default:return[!1,!1]}},h=(d,V,X,re)=>{if(t.sixWeeks&&d.length<6){const se=6-d.length,Ne=(V.getDay()+7-re)%7,at=6-(X.getDay()+7-re)%7,[Ze,jt]=_(Ne,at);for(let Ve=1;Ve<=se;Ve++)if(jt?!!(Ve%2)==Ze:Ze){const ot=d[0].days[0],Gt=Y(c.addDays(ot.value,-7),c.getMonth(V));d.unshift({days:Gt})}else{const ot=d[d.length-1],Gt=ot.days[ot.days.length-1],Oa=Y(c.addDays(Gt.value,1),c.getMonth(V));d.push({days:Oa})}}return d},Y=(d,V)=>{const X=A(JSON.parse(JSON.stringify(d))),re=[];for(let se=0;se<7;se++){const Ne=c.addDays(X,se),qe=c.getMonth(Ne)!==V;re.push({text:t.hideOffsetDates&&qe?"":Ne.getDate(),value:Ne,current:!qe,classData:{}})}return re},Q=(d,V)=>{const X=[],re=A(Ce(new Date(V,d),t.timezone)),se=A(Ce(new Date(V,d+1,0),t.timezone)),Ne=t.weekStart,qe=c.startOfWeek(re,{weekStartsOn:Ne}),at=Ze=>{const jt=Y(Ze,d);if(X.push({days:jt}),!X[X.length-1].days.some(Ve=>ae(ke(Ve.value),ke(se)))){const Ve=c.addDays(Ze,7);at(Ve)}};return at(qe),h(X,re,se,Ne)},U=d=>(l.value=Xe(A(d.value),t.timezone,t.weekStart),ee()),le=d=>{const V=Te(A(d.value),C.hours,C.minutes,rt());t.multiDates?Vt(V,l,t.multiDatesLimit):l.value=V,n(),e.nextTick().then(()=>{ee()})},te=d=>t.noDisabledRange?hn(s.value[0],d).some(X=>T(X)):!1,E=()=>{s.value=l.value?l.value.slice():[],s.value.length===2&&!(t.fixedStart||t.fixedEnd)&&(s.value=[])},G=(d,V)=>{const X=[A(d.value),c.addDays(A(d.value),+t.autoRange)];P(X)&&(V&&ue(d.value),s.value=X)},ue=d=>{const V=c.getMonth(A(d)),X=c.getYear(A(d));if(B(0,V,X),w.value.count>0)for(let re=1;re<w.value.count;re++){const se=cr(c.set(A(d),{year:R.value(re-1),month:I.value(re-1)}));B(re,se.month,se.year)}},q=d=>Array.isArray(l.value)&&l.value.length===2?t.fixedStart&&(ge(d,l.value[0])||ae(d,l.value[0]))?[l.value[0],d]:t.fixedEnd&&(fe(d,l.value[1])||ae(d,l.value[1]))?[d,l.value[1]]:(r("invalid-fixed-range",d),l.value):[],we=d=>{te(d.value)||!j(d.value,l.value,t.fixedStart?0:1)||(s.value=q(A(d.value)))},de=(d,V)=>{if(E(),t.autoRange)return G(d,V);if(t.fixedStart||t.fixedEnd)return we(d);s.value[0]?j(A(d.value),l.value)&&!te(d.value)&&(fe(A(d.value),A(s.value[0]))?(s.value.unshift(A(d.value)),r("range-end",s.value[0])):(s.value[1]=A(d.value),r("range-end",s.value[1]))):(s.value[0]=A(d.value),r("range-start",s.value[0]))},rt=(d=!0)=>t.enableSeconds?Array.isArray(C.seconds)?d?C.seconds[0]:C.seconds[1]:C.seconds:0,Ge=d=>{s.value[d]=Te(s.value[d],C.hours[d],C.minutes[d],rt(d!==1))},zt=()=>{var d,V;s.value[0]&&s.value[1]&&+((d=s.value)==null?void 0:d[0])>+((V=s.value)==null?void 0:V[1])&&(s.value.reverse(),r("range-start",s.value[0]),r("range-end",s.value[1]))},Lt=()=>{s.value.length&&(s.value[0]&&!s.value[1]?Ge(0):(Ge(0),Ge(1),n()),zt(),l.value=s.value.slice(),Yt(s.value,r,t.autoApply,t.modelAuto))},Ht=(d,V=!1)=>{if(!(T(d.value)||!d.current&&t.hideOffsetDates)){if(t.weekPicker)return U(d);if(!t.range)return le(d);Tn(C.hours)&&Tn(C.minutes)&&!t.multiDates&&(de(d,V),Lt())}},Kt=(d,V)=>{var re;B(d,V.month,V.year),w.value.count&&!w.value.solo&&u(d),r("update-month-year",{instance:d,month:V.month,year:V.year}),a(w.value.solo?d:void 0);const X=(re=t.flow)!=null&&re.length?t.flow[t.flowStep]:void 0;!V.fromNav&&(X===Se.month||X===Se.year)&&n()},Ut=(d,V)=>{Array.isArray(d)&&d.length<=2&&t.range?l.value=d.map(X=>Ce(A(X),V?void 0:t.timezone)):Array.isArray(d)||(l.value=Ce(A(d),V?void 0:t.timezone)),x(),t.multiCalendars&&e.nextTick().then(()=>p(!0))},Wt=()=>{t.range?l.value&&Array.isArray(l.value)&&l.value[0]?l.value=fe(A(),l.value[0])?[A(),l.value[0]]:[l.value[0],A()]:l.value=[A()]:l.value=A(),x()},xt=()=>{if(Array.isArray(l.value))if(t.multiDates){const d=F();l.value[l.value.length-1]=Z(d)}else l.value=l.value.map((d,V)=>d&&Z(d,V));else l.value=Z(l.value);r("time-update")},F=()=>Array.isArray(l.value)&&l.value.length?l.value[l.value.length-1]:null;return{calendars:f,modelValue:l,month:R,year:I,time:C,disabledTimesConfig:$,getCalendarDays:Q,getMarker:z,handleScroll:v,handleSwipe:o,handleArrow:J,selectDate:Ht,updateMonthYear:Kt,presetDate:Ut,selectCurrentDate:Wt,updateTime:(d,V=!0,X=!1)=>{L(d,V,X,xt)}}},Sa={key:0},$a=e.defineComponent({__name:"DatePicker",props:{...Be},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year"],setup(t,{expose:r,emit:a}){const n=t,{calendars:s,month:l,year:f,modelValue:C,time:w,disabledTimesConfig:S,getCalendarDays:k,getMarker:T,handleArrow:P,handleScroll:j,handleSwipe:L,selectDate:Z,updateMonthYear:W,presetDate:M,selectCurrentDate:$,updateTime:R}=Ca(n,a,u,y),I=e.useSlots(),{setHoverDate:B,getDayClassData:x,clearHoverDate:H}=vr(C,n),{defaultedMultiCalendars:ee}=pe(n),p=e.ref([]),D=e.ref([]),N=e.ref(null),K=De(I,"calendar"),m=De(I,"monthYear"),O=De(I,"timePicker"),b=_=>{n.shadow||a("mount",_)};e.watch(s,()=>{n.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0});const g=e.computed(()=>_=>k(l.value(_),f.value(_)).map(h=>({...h,days:h.days.map(Y=>(Y.marker=T(Y),Y.classData=x(Y),Y))})));function u(_){var h;_||_===0?(h=D.value[_])==null||h.triggerTransition(l.value(_),f.value(_)):D.value.forEach((Y,Q)=>Y.triggerTransition(l.value(Q),f.value(Q)))}function y(){a("update-flow-step")}const i=(_,h=!1)=>{Z(_,h),n.spaceConfirm&&a("select-date")};return r({clearHoverDate:H,presetDate:M,selectCurrentDate:$,toggleMonthPicker:(_,h,Y=0)=>{var Q;(Q=p.value[Y])==null||Q.toggleMonthPicker(_,h)},toggleYearPicker:(_,h,Y=0)=>{var Q;(Q=p.value[Y])==null||Q.toggleYearPicker(_,h)},toggleTimePicker:(_,h,Y)=>{var Q;(Q=N.value)==null||Q.toggleTimePicker(_,h,Y)},handleArrow:P,updateMonthYear:W,getSidebarProps:()=>({modelValue:C,month:l,year:f,time:w,updateTime:R,updateMonthYear:W,selectDate:Z,presetDate:M})}),(_,h)=>(e.openBlock(),e.createElementBlock(e.Fragment,null,[e.createVNode(Rt,{"multi-calendars":e.unref(ee).count},{default:e.withCtx(({instance:Y,index:Q})=>[_.disableMonthYearSelect?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(ma,e.mergeProps({key:0,ref:U=>{U&&(p.value[Q]=U)},months:e.unref(sn)(_.formatLocale,_.locale,_.monthNameFormat),years:e.unref(St)(_.yearRange,_.reverseYears),month:e.unref(l)(Y),year:e.unref(f)(Y),instance:Y},_.$props,{onMount:h[0]||(h[0]=U=>b(e.unref(Ee).header)),onResetFlow:h[1]||(h[1]=U=>_.$emit("reset-flow")),onUpdateMonthYear:U=>e.unref(W)(Y,U),onOverlayClosed:h[2]||(h[2]=U=>_.$emit("focus-menu"))}),e.createSlots({_:2},[e.renderList(e.unref(m),(U,le)=>({name:U,fn:e.withCtx(te=>[e.renderSlot(_.$slots,U,e.normalizeProps(e.guardReactiveProps(te)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),e.createVNode(Da,e.mergeProps({ref:U=>{U&&(D.value[Q]=U)},"mapped-dates":g.value(Y),month:e.unref(l)(Y),year:e.unref(f)(Y)},_.$props,{onSelectDate:U=>e.unref(Z)(U,Y!==1),onHandleSpace:U=>i(U,Y!==1),onSetHoverDate:h[3]||(h[3]=U=>e.unref(B)(U)),onHandleScroll:U=>e.unref(j)(U,Y),onHandleSwipe:U=>e.unref(L)(U,Y),onMount:h[4]||(h[4]=U=>b(e.unref(Ee).calendar)),onResetFlow:h[5]||(h[5]=U=>_.$emit("reset-flow")),onTooltipOpen:h[6]||(h[6]=U=>_.$emit("tooltip-open",U)),onTooltipClose:h[7]||(h[7]=U=>_.$emit("tooltip-close",U))}),e.createSlots({_:2},[e.renderList(e.unref(K),(U,le)=>({name:U,fn:e.withCtx(te=>[e.renderSlot(_.$slots,U,e.normalizeProps(e.guardReactiveProps({...te})))])}))]),1040,["mapped-dates","month","year","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars"]),_.enableTimePicker?(e.openBlock(),e.createElementBlock("div",Sa,[_.$slots["time-picker"]?e.renderSlot(_.$slots,"time-picker",e.normalizeProps(e.mergeProps({key:0},{time:e.unref(w),updateTime:e.unref(R)}))):(e.openBlock(),e.createBlock($n,e.mergeProps({key:1,ref_key:"timePickerRef",ref:N},_.$props,{hours:e.unref(w).hours,minutes:e.unref(w).minutes,seconds:e.unref(w).seconds,"internal-model-value":_.internalModelValue,"disabled-times-config":e.unref(S),onMount:h[8]||(h[8]=Y=>b(e.unref(Ee).timePicker)),"onUpdate:hours":h[9]||(h[9]=Y=>e.unref(R)(Y)),"onUpdate:minutes":h[10]||(h[10]=Y=>e.unref(R)(Y,!1)),"onUpdate:seconds":h[11]||(h[11]=Y=>e.unref(R)(Y,!1,!0)),onResetFlow:h[12]||(h[12]=Y=>_.$emit("reset-flow")),onOverlayClosed:h[13]||(h[13]=Y=>_.$emit("time-picker-close")),onOverlayOpened:h[14]||(h[14]=Y=>_.$emit("time-picker-open",Y)),onAmPmChange:h[15]||(h[15]=Y=>_.$emit("am-pm-change",Y))}),e.createSlots({_:2},[e.renderList(e.unref(O),(Y,Q)=>({name:Y,fn:e.withCtx(U=>[e.renderSlot(_.$slots,Y,e.normalizeProps(e.guardReactiveProps(U)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config"]))])):e.createCommentVNode("",!0)],64))}}),Ba=["id","onKeydown"],Ta={key:0,class:"dp__sidebar_left"},va={key:1,class:"dp--preset-dates"},Aa=["onClick","onKeydown"],Na={key:2,class:"dp__sidebar_right"},Pa={key:3,class:"dp__action_extra"},vn=e.defineComponent({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...nt,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},arrMapValues:{type:Object,default:()=>({})}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.computed(()=>{const{openOnTop:E,...G}=n;return{...G,flowStep:x.value}}),{setMenuFocused:l,setShiftKey:f,control:C}=Mn(),w=e.useSlots(),{defaultedTextInput:S,defaultedInline:k}=pe(n),T=e.ref(null),P=e.ref(0),j=e.ref(null),L=e.ref(null),Z=e.ref(!1),W=e.ref(null);e.onMounted(()=>{if(!n.shadow){Z.value=!0,M(),window.addEventListener("resize",M);const E=ce(j);if(E&&!S.value.enabled&&!k.value.enabled&&(l(!0),N()),E){const G=ue=>{n.allowPreventDefault&&ue.preventDefault(),ue.stopImmediatePropagation(),ue.stopPropagation()};E.addEventListener("pointerdown",G),E.addEventListener("mousedown",G)}}}),e.onUnmounted(()=>{window.removeEventListener("resize",M)});const M=()=>{const E=ce(L);E&&(P.value=E.getBoundingClientRect().width)},{arrowRight:$,arrowLeft:R,arrowDown:I,arrowUp:B}=Ae(),{flowStep:x,updateFlowStep:H,childMount:ee,resetFlow:p}=Ar(n,a,W),D=e.computed(()=>n.monthPicker?jr:n.yearPicker?qr:n.timePicker?ca:$a),N=()=>{const E=ce(j);E&&E.focus({preventScroll:!0})},K=e.computed(()=>{var E;return((E=W.value)==null?void 0:E.getSidebarProps())||{}}),m=()=>{n.openOnTop&&a("recalculate-position")},O=De(w,"action"),b=e.computed(()=>n.monthPicker||n.yearPicker?De(w,"monthYear"):n.timePicker?De(w,"timePicker"):De(w,"shared")),g=e.computed(()=>n.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),u=e.computed(()=>({dp__menu_disabled:n.disabled,dp__menu_readonly:n.readonly})),y=e.computed(()=>({dp__menu:!0,dp__menu_index:!k.value.enabled,dp__relative:k.value.enabled,[n.menuClassName]:!!n.menuClassName})),i=E=>{E.stopPropagation(),E.stopImmediatePropagation()},v=()=>{n.escClose&&a("close-picker")},J=E=>{if(n.arrowNavigation){if(E==="up")return B();if(E==="down")return I();if(E==="left")return R();if(E==="right")return $()}else E==="left"||E==="up"?Y("handleArrow","left",0,E==="up"):Y("handleArrow","right",0,E==="down")},o=E=>{f(E.shiftKey),!n.disableMonthYearSelect&&E.code==="Tab"&&E.target.classList.contains("dp__menu")&&C.value.shiftKeyInMenu&&(E.preventDefault(),E.stopImmediatePropagation(),a("close-picker"))},z=()=>{N(),a("time-picker-close")},_=E=>{var G,ue,q;(G=W.value)==null||G.toggleTimePicker(!1,!1),(ue=W.value)==null||ue.toggleMonthPicker(!1,!1,E),(q=W.value)==null||q.toggleYearPicker(!1,!1,E)},h=(E,G=0)=>{var ue,q,we;return E==="month"?(ue=W.value)==null?void 0:ue.toggleMonthPicker(!1,!0,G):E==="year"?(q=W.value)==null?void 0:q.toggleYearPicker(!1,!0,G):E==="time"?(we=W.value)==null?void 0:we.toggleTimePicker(!0,!1):_(G)},Y=(E,...G)=>{var ue,q;(ue=W.value)!=null&&ue[E]&&((q=W.value)==null||q[E](...G))},Q=()=>{Y("selectCurrentDate")},U=(E,G)=>{Y("presetDate",E,G)},le=()=>{Y("clearHoverDate")};return r({updateMonthYear:(E,G)=>{Y("updateMonthYear",E,G)},switchView:h}),(E,G)=>{var ue;return e.openBlock(),e.createElementBlock("div",{id:E.uid?`dp-menu-${E.uid}`:void 0,tabindex:"0",ref_key:"dpMenuRef",ref:j,role:"dialog",class:e.normalizeClass(y.value),onMouseleave:le,onClick:i,onKeydown:[e.withKeys(v,["esc"]),G[15]||(G[15]=e.withKeys(e.withModifiers(q=>J("left"),["prevent"]),["left"])),G[16]||(G[16]=e.withKeys(e.withModifiers(q=>J("up"),["prevent"]),["up"])),G[17]||(G[17]=e.withKeys(e.withModifiers(q=>J("down"),["prevent"]),["down"])),G[18]||(G[18]=e.withKeys(e.withModifiers(q=>J("right"),["prevent"]),["right"])),o]},[(E.disabled||E.readonly)&&e.unref(k).enabled?(e.openBlock(),e.createElementBlock("div",{key:0,class:e.normalizeClass(u.value)},null,2)):e.createCommentVNode("",!0),!e.unref(k).enabled&&!E.teleportCenter?(e.openBlock(),e.createElementBlock("div",{key:1,class:e.normalizeClass(g.value)},null,2)):e.createCommentVNode("",!0),e.createElementVNode("div",{ref_key:"innerMenuRef",ref:L,class:e.normalizeClass({dp__menu_content_wrapper:((ue=E.presetDates)==null?void 0:ue.length)||!!E.$slots["left-sidebar"]||!!E.$slots["right-sidebar"]}),style:e.normalizeStyle({"--dp-menu-width":`${P.value}px`})},[E.$slots["left-sidebar"]?(e.openBlock(),e.createElementBlock("div",Ta,[e.renderSlot(E.$slots,"left-sidebar",e.normalizeProps(e.guardReactiveProps(K.value)))])):e.createCommentVNode("",!0),E.presetDates.length?(e.openBlock(),e.createElementBlock("div",va,[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(E.presetDates,(q,we)=>(e.openBlock(),e.createElementBlock("div",{key:we,style:e.normalizeStyle(q.style||{}),class:"dp--preset-range"},[q.slot?e.renderSlot(E.$slots,q.slot,{key:0,presetDate:U,label:q.label,value:q.value}):(e.openBlock(),e.createElementBlock("div",{key:1,role:"button",tabindex:"0",onClick:de=>U(q.value,q.noTz),onKeydown:[e.withKeys(e.withModifiers(de=>U(q.value,q.noTz),["prevent"]),["enter"]),e.withKeys(e.withModifiers(de=>U(q.value,q.noTz),["prevent"]),["space"])]},e.toDisplayString(q.label),41,Aa))],4))),128))])):e.createCommentVNode("",!0),e.createElementVNode("div",{class:"dp__instance_calendar",ref_key:"calendarWrapperRef",ref:T,role:"document"},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(D.value),e.mergeProps({ref_key:"dynCmpRef",ref:W},s.value,{"flow-step":e.unref(x),onMount:e.unref(ee),onUpdateFlowStep:e.unref(H),onResetFlow:e.unref(p),onFocusMenu:N,onSelectDate:G[0]||(G[0]=q=>E.$emit("select-date")),onTooltipOpen:G[1]||(G[1]=q=>E.$emit("tooltip-open",q)),onTooltipClose:G[2]||(G[2]=q=>E.$emit("tooltip-close",q)),onAutoApply:G[3]||(G[3]=q=>E.$emit("auto-apply",q)),onRangeStart:G[4]||(G[4]=q=>E.$emit("range-start",q)),onRangeEnd:G[5]||(G[5]=q=>E.$emit("range-end",q)),onInvalidFixedRange:G[6]||(G[6]=q=>E.$emit("invalid-fixed-range",q)),onTimeUpdate:G[7]||(G[7]=q=>E.$emit("time-update")),onAmPmChange:G[8]||(G[8]=q=>E.$emit("am-pm-change",q)),onTimePickerOpen:G[9]||(G[9]=q=>E.$emit("time-picker-open",q)),onTimePickerClose:z,onRecalculatePosition:m,onUpdateMonthYear:G[10]||(G[10]=q=>E.$emit("update-month-year",q)),"onUpdate:internalModelValue":G[11]||(G[11]=q=>E.$emit("update:internal-model-value",q))}),e.createSlots({_:2},[e.renderList(b.value,(q,we)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(E.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),E.$slots["right-sidebar"]?(e.openBlock(),e.createElementBlock("div",Na,[e.renderSlot(E.$slots,"right-sidebar",e.normalizeProps(e.guardReactiveProps(K.value)))])):e.createCommentVNode("",!0),E.$slots["action-extra"]?(e.openBlock(),e.createElementBlock("div",Pa,[E.$slots["action-extra"]?e.renderSlot(E.$slots,"action-extra",{key:0,selectCurrentDate:Q}):e.createCommentVNode("",!0)])):e.createCommentVNode("",!0)],6),!E.autoApply||E.keepActionRow?(e.openBlock(),e.createBlock(Or,e.mergeProps({key:2,"menu-mount":Z.value},s.value,{"calendar-width":P.value,onClosePicker:G[12]||(G[12]=q=>E.$emit("close-picker")),onSelectDate:G[13]||(G[13]=q=>E.$emit("select-date")),onInvalidSelect:G[14]||(G[14]=q=>E.$emit("invalid-select")),onSelectNow:Q}),e.createSlots({_:2},[e.renderList(e.unref(O),(q,we)=>({name:q,fn:e.withCtx(de=>[e.renderSlot(E.$slots,q,e.normalizeProps(e.guardReactiveProps({...de})))])}))]),1040,["menu-mount","calendar-width"])):e.createCommentVNode("",!0)],42,Ba)}}}),_a=typeof window<"u"?window:void 0,Ot=()=>{},Ea=t=>e.getCurrentScope()?(e.onScopeDispose(t),!0):!1,Ra=(t,r,a,n)=>{if(!t)return Ot;let s=Ot;const l=e.watch(()=>e.unref(t),C=>{s(),C&&(C.addEventListener(r,a,n),s=()=>{C.removeEventListener(r,a,n),s=Ot})},{immediate:!0,flush:"post"}),f=()=>{l(),s()};return Ea(f),f},Va=(t,r,a,n={})=>{const{window:s=_a,event:l="pointerdown"}=n;return s?Ra(s,l,C=>{const w=ce(t),S=ce(r);!w||!S||w===C.target||C.composedPath().includes(w)||C.composedPath().includes(S)||a(C)},{passive:!0}):void 0},Ya=e.defineComponent({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...nt},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end"],setup(t,{expose:r,emit:a}){const n=t,s=e.useSlots(),l=e.ref(!1),f=e.toRef(n,"modelValue"),C=e.toRef(n,"timezone"),w=e.ref(null),S=e.ref(null),k=e.ref(null),T=e.ref(!1),P=e.ref(null),{setMenuFocused:j,setShiftKey:L}=Mn(),{clearArrowNav:Z}=Ae(),{mapDatesArrToMap:W,validateDate:M,isValidTime:$}=We(n),{defaultedTransitions:R,defaultedTextInput:I,defaultedInline:B}=pe(n),{menuTransition:x,showTransition:H}=Ue(R);e.onMounted(()=>{i(n.modelValue),e.nextTick().then(()=>{B.value.enabled||(b(P.value).addEventListener("scroll",Y),window.addEventListener("resize",Q))}),B.value.enabled&&(l.value=!0)});const ee=e.computed(()=>W());e.onUnmounted(()=>{if(!B.value.enabled){const F=b(P.value);F&&F.removeEventListener("scroll",Y),window.removeEventListener("resize",Q)}});const p=De(s,"all",n.presetDates),D=De(s,"input");e.watch([f,C],()=>{i(f.value)},{deep:!0});const{openOnTop:N,menuStyle:K,xCorrect:m,setMenuPosition:O,getScrollableParent:b,shadowRender:g}=$r({menuRef:w,menuRefInner:S,inputRef:k,pickerWrapperRef:P,inline:B,emit:a,props:n,slots:s}),{inputValue:u,internalModelValue:y,parseExternalModelValue:i,emitModelValue:v,formatInputValue:J,checkBeforeEmit:o}=Cr(a,n,T),z=e.computed(()=>({dp__main:!0,dp__theme_dark:n.dark,dp__theme_light:!n.dark,dp__flex_display:B.value.enabled,dp__flex_display_with_input:B.value.input})),_=e.computed(()=>n.dark?"dp__theme_dark":"dp__theme_light"),h=e.computed(()=>n.teleport?{to:typeof n.teleport=="boolean"?"body":n.teleport,disabled:B.value.enabled}:{class:"dp__outer_menu_wrap"}),Y=()=>{l.value&&(n.closeOnScroll?de():O())},Q=()=>{l.value&&O()},U=()=>{!n.disabled&&!n.readonly&&(g(vn,n),O(!1),l.value=!0,l.value&&a("open"),l.value||we(),i(n.modelValue))},le=()=>{u.value="",we(),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),n.closeOnClearValue&&de()},te=()=>{const F=y.value;return!F||!Array.isArray(F)&&M(F)?!0:Array.isArray(F)?F.length===2&&M(F[0])&&M(F[1])?!0:n.partialRange&&!n.timePicker?M(F[0]):!1:!1},E=()=>{o()&&te()?(v(),de()):a("invalid-select",y.value)},G=F=>{ue(),v(),n.closeOnAutoApply&&!F&&de()},ue=()=>{k.value&&I.value.enabled&&k.value.setParsedDate(y.value)},q=(F=!1)=>{n.autoApply&&$(y.value)&&te()&&(n.range&&Array.isArray(y.value)?(n.partialRange||y.value.length===2)&&G(F):G(F))},we=()=>{I.value.enabled||(y.value=null)},de=()=>{B.value.enabled||(l.value&&(l.value=!1,m.value=!1,j(!1),L(!1),Z(),a("closed"),u.value&&i(f.value)),we(),a("blur"))},rt=(F,ne)=>{if(!F){y.value=null;return}y.value=F,ne&&(E(),a("text-submit"))},Ge=()=>{n.autoApply&&$(y.value)&&v(),ue()},zt=()=>l.value?de():U(),Lt=F=>{y.value=F},Ht=()=>{I.value.enabled&&(T.value=!0,J()),a("focus")},Kt=()=>{I.value.enabled&&(T.value=!1,i(n.modelValue)),a("blur")},Ut=F=>{S.value&&S.value.updateMonthYear(0,{month:cn(F.month),year:cn(F.year)})},Wt=F=>{i(F??n.modelValue)},xt=(F,ne)=>{var d;(d=S.value)==null||d.switchView(F,ne)};return Va(w,k,n.onClickOutside?()=>n.onClickOutside(te):de),r({closeMenu:de,selectDate:E,clearValue:le,openMenu:U,onScroll:Y,formatInputValue:J,updateInternalModelValue:Lt,setMonthYear:Ut,parseModel:Wt,switchView:xt}),(F,ne)=>(e.openBlock(),e.createElementBlock("div",{class:e.normalizeClass(z.value),ref_key:"pickerWrapperRef",ref:P},[e.createVNode(Er,e.mergeProps({ref_key:"inputRef",ref:k,"is-menu-open":l.value,"input-value":e.unref(u),"onUpdate:inputValue":ne[0]||(ne[0]=d=>e.isRef(u)?u.value=d:null)},F.$props,{onClear:le,onOpen:U,onSetInputDate:rt,onSetEmptyDate:e.unref(v),onSelectDate:E,onToggle:zt,onClose:de,onFocus:Ht,onBlur:Kt,onRealBlur:ne[1]||(ne[1]=d=>T.value=!1)}),e.createSlots({_:2},[e.renderList(e.unref(D),(d,V)=>({name:d,fn:e.withCtx(X=>[e.renderSlot(F.$slots,d,e.normalizeProps(e.guardReactiveProps(X)))])}))]),1040,["is-menu-open","input-value","onSetEmptyDate"]),e.createVNode(e.Transition,{name:e.unref(x)(e.unref(N)),css:e.unref(H)&&!e.unref(B).enabled},{default:e.withCtx(()=>[l.value?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(F.teleport?e.Teleport:"div"),e.mergeProps({key:0,ref_key:"dpWrapMenuRef",ref:w},h.value,{class:{"dp--menu-wrapper":!e.unref(B).enabled},style:e.unref(B).enabled?void 0:e.unref(K)}),{default:e.withCtx(()=>[e.createVNode(vn,e.mergeProps({ref_key:"dpMenuRef",ref:S,class:{[_.value]:!0,"dp--menu-wrapper":F.teleport},style:F.teleport?e.unref(K):void 0,"open-on-top":e.unref(N),"arr-map-values":ee.value},F.$props,{"internal-model-value":e.unref(y),"onUpdate:internalModelValue":ne[2]||(ne[2]=d=>e.isRef(y)?y.value=d:null),onClosePicker:de,onSelectDate:E,onAutoApply:q,onTimeUpdate:Ge,onFlowStep:ne[3]||(ne[3]=d=>F.$emit("flow-step",d)),onUpdateMonthYear:ne[4]||(ne[4]=d=>F.$emit("update-month-year",d)),onInvalidSelect:ne[5]||(ne[5]=d=>F.$emit("invalid-select",e.unref(y))),onInvalidFixedRange:ne[6]||(ne[6]=d=>F.$emit("invalid-fixed-range",d)),onRecalculatePosition:e.unref(O),onTooltipOpen:ne[7]||(ne[7]=d=>F.$emit("tooltip-open",d)),onTooltipClose:ne[8]||(ne[8]=d=>F.$emit("tooltip-close",d)),onTimePickerOpen:ne[9]||(ne[9]=d=>F.$emit("time-picker-open",d)),onTimePickerClose:ne[10]||(ne[10]=d=>F.$emit("time-picker-close",d)),onAmPmChange:ne[11]||(ne[11]=d=>F.$emit("am-pm-change",d)),onRangeStart:ne[12]||(ne[12]=d=>F.$emit("range-start",d)),onRangeEnd:ne[13]||(ne[13]=d=>F.$emit("range-end",d))}),e.createSlots({_:2},[e.renderList(e.unref(p),(d,V)=>({name:d,fn:e.withCtx(X=>[e.renderSlot(F.$slots,d,e.normalizeProps(e.guardReactiveProps({...X})))])}))]),1040,["class","style","open-on-top","arr-map-values","internal-model-value","onRecalculatePosition"])]),_:3},16,["class","style"])):e.createCommentVNode("",!0)]),_:3},8,["name","css"])],2))}}),It=(()=>{const t=Ya;return t.install=r=>{r.component("Vue3DatePicker",t)},t})();return Object.entries(Object.freeze(Object.defineProperty({__proto__:null,default:It},Symbol.toStringTag,{value:"Module"}))).forEach(([t,r])=>{t!=="default"&&(It[t]=r)}),It});
